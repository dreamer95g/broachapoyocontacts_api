var Wt=Object.defineProperty,Ut=Object.defineProperties;var Gt=Object.getOwnPropertyDescriptors;var wt=Object.getOwnPropertySymbols;var Yt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable;var yt=(s,o,u)=>o in s?Wt(s,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):s[o]=u,ce=(s,o)=>{for(var u in o||(o={}))Yt.call(o,u)&&yt(s,u,o[u]);if(wt)for(var u of wt(o))Zt.call(o,u)&&yt(s,u,o[u]);return s},Ce=(s,o)=>Ut(s,Gt(o));import{c as Kt,a as Qt,b as Xt,d as Jt,t as ea,u as le,e as ae,r as t,R as e,L as qe,M as Ye,g as W,U as Nt,f as ta,s as aa,A as na,I as ra,h as Z,i as Me,j as G,n as ne,T as Ze,S as Ke,B as xe,k as Fe,l as He,m as me,o as We,p as Pe,v as ze,q as Ue,D as sa,w as oa,x as kt,y as re,z as la,P as ca,C as ia,E as ma,F as da,G as ua}from"./vendor.ba6aa652.js";const pa=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))i(g);new MutationObserver(g=>{for(const m of g)if(m.type==="childList")for(const v of m.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function u(g){const m={};return g.integrity&&(m.integrity=g.integrity),g.referrerpolicy&&(m.referrerPolicy=g.referrerpolicy),g.crossorigin==="use-credentials"?m.credentials="include":g.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(g){if(g.ep)return;g.ep=!0;const m=u(g);fetch(g.href,m)}};pa();const _e={login:"[Auth] Login",logout:"[Auth] Logout",sideBarState:"[UI]  Side Bar State Changed",uiSetError:"[UI] Set Error",uiRemoveError:"[UI] Remove Error",uiStartLoading:"[UI] Start loading",uiFinishLoading:"[UI] Finish loading"},ga=(s={},o)=>{switch(o.type){case _e.login:return{token:o.payload.token,name:o.payload.name,email:o.payload.email,role:o.payload.role,photo:o.payload.photo};case _e.logout:return{};default:return s}},xa={loading:!1,msgError:null,sideBarSate:!1},ha=(s=xa,o)=>{switch(o.type){case _e.sideBarState:return Ce(ce({},s),{sideBarSate:o.payload});case _e.uiSetError:return Ce(ce({},s),{msgError:o.payload});case _e.uiRemoveError:return Ce(ce({},s),{msgError:null});case _e.uiStartLoading:return Ce(ce({},s),{loading:!0});case _e.uiFinishLoading:return Ce(ce({},s),{loading:!1});default:return s}},Ea=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Jt,fa=Kt({auth:ga,ui:ha}),va=Qt(fa,Ea(Xt(ea))),it=s=>({type:_e.sideBarState,payload:s}),te=()=>({type:_e.uiStartLoading}),B=()=>({type:_e.uiFinishLoading}),tt="https://broachapoyocontacts.herokuapp.com/",ba=()=>{const s=le(),{sideBarSate:o}=ae(f=>f.ui);ae(f=>f.auth),ae(f=>f.auth);const{photo:u}=ae(f=>f.auth),[i,g]=t.exports.useState(),m=()=>{s(it(!o))};t.exports.useEffect(()=>{g(u)},[]);const v=()=>{s(it(!1))},E=f=>{const x=document.getElementById("sidebar");f?(x.classList.remove("-translate-x-full"),x.classList.remove("ease-in"),x.classList.add("translate-x-0"),x.classList.add("ease-out")):(x.classList.remove("translate-x-0"),x.classList.remove("ease-out"),x.classList.add("-translate-x-full"),x.classList.add("ease-in"))};return t.exports.useEffect(()=>{E(o)},[o]),e.createElement(e.Fragment,null,e.createElement("div",{id:"sidebar",className:"fixed z-30 inset-y-0 left-0 w-64 transition duration-700 transform flex flex-col h-screen py-8 bg-white border-r dark:bg-gray-800 dark:border-gray-600 overflow-y-auto overflow-x-hidden border-gray-300 rounded-lg ",onClick:m,onMouseLeave:v},e.createElement("div",{className:"flex flex-col items-center mt-6 -mx-2"},e.createElement("div",null,e.createElement("img",{className:"w-32 h-32 mx-auto content-center my-auto rounded-full ",src:`${tt}assets/images/apoyo_cuba.5fbeaca6.jpg`,alt:"brand"}),e.createElement("hr",{className:"my-4 "}))),e.createElement("div",{className:"flex flex-col justify-between flex-1 mt-6"},e.createElement("nav",null,e.createElement(qe,{to:"/dashboard",className:"flex items-center px-4 border-l-4 border-transparent hover:border-blue-500 hover:bg-gray-100 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400  dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})),e.createElement("span",{className:"mx-4 font-medium"},"Inicio")),e.createElement(qe,{to:"/dashboard/search",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Busquedas")),e.createElement(qe,{to:"/dashboard/contacts",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Contactos")),e.createElement(qe,{to:"/dashboard/trackings",className:"border-l-4 border-transparent hover:border-blue-500 flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})),e.createElement("span",{className:"mx-4 font-medium"},"Seguimientos")),e.createElement(qe,{className:"border-l-4 border-transparent hover:border-blue-500 flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",to:"/dashboard/missions"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Misiones Transculturales")),e.createElement(qe,{to:"/dashboard/organizations",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})),e.createElement("span",{className:"mx-4 font-medium"},"Organizaciones")),e.createElement(qe,{to:"/dashboard/categories",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})),e.createElement("span",{className:"mx-4 font-medium"},"Categor\xEDas"))))))},mt=(s,o,u,i,g)=>m=>{m(wa(s,o,u,i,g))},wa=(s,o,u,i,g)=>({type:_e.login,payload:{token:s,name:o,email:u,role:i,photo:g}}),ya=()=>s=>{s(Na()),localStorage.removeItem("_token")},Na=()=>({type:_e.logout}),ka=({show:s,setShowHelpModal:o})=>{const[u,i]=t.exports.useState(!1);t.exports.useState("");const[g,m]=t.exports.useState(`Broach Apoyo Contacts ${new Date().getFullYear()}`),v=()=>{i(!0)},E=()=>{i(!1),o(!1)},f=()=>{i(!1),o(!1)};return t.exports.useEffect(()=>{s&&v()},[s]),e.createElement(e.Fragment,null,e.createElement(Ye,{title:g,visible:u,onOk:E,onCancel:f,footer:[e.createElement("div",null,e.createElement("h1",{className:"text-md text-center"},"Cualquier duda contactar con el"," ",e.createElement("a",{className:"text-blue-700 hover:no-underline hover:text-blue-500"},"@admin")),e.createElement("h1",{className:"text-md text-center"},"Email:"," ",e.createElement("a",{className:"text-blue-700 hover:underline hover:text-blue-500"},"gabry95g@gmail.com")))],style:{textAlign:"center"}},e.createElement("div",null,e.createElement("img",{className:"w-32 h-32 mx-auto content-center my-auto rounded-full cursor-pointer",src:`${tt}assets/images/apoyo_cuba.5fbeaca6.jpg`,alt:"brand"}))))},dt=W`
  query me {
    me {
      id
      name
      email
      roles {
        id
        name
      }
      images {
        id
        name
      }
    }
  }
`,Ct=W`
  mutation deleteImage($id: Int!) {
    deleteImage(id: $id) {
      name
    }
  }
`,St=W`
  mutation uploadImgB64($name: String!) {
    storeImage(name: $name) {
      id
    }
  }
`,Ca=({setPhoto:s,action:o,selectedImage:u})=>{const i={previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]},[g,m]=t.exports.useState(i),v=r=>new Promise((a,n)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=()=>a(l.result),l.onerror=S=>n(S)}),E=()=>m({previewVisible:!1,fileList:w}),f=async r=>{r.preview===void 0&&r.url===void 0?(r.preview=await v(r.originFileObj),m({previewImage:r.preview,previewVisible:!0,previewTitle:"Foto",fileList:[r]})):r.preview!==void 0&&r.url===void 0?m({previewImage:r.preview,previewVisible:!0,previewTitle:"Foto",fileList:[r]}):r.url!==void 0&&m({previewImage:r.url,previewVisible:!0,previewTitle:"Foto",fileList:[r]})},x=({fileList:r})=>{if(r!==void 0&&r.length!==0){m({fileList:r});const{originFileObj:a}=r[0];s(a)}m({fileList:r})},d=r=>{if(r!==void 0){const{id:a,name:n}=r;m({fileList:[{uid:"-1",name:"",status:"done",url:n}]})}},{previewVisible:h,previewImage:b,previewTitle:N,fileList:w}=g,y=()=>{w!==void 0&&w.length!==0&&(w[0].status="done")};t.exports.useEffect(()=>{y()},[g]),t.exports.useEffect(()=>{o==="update"&&u!==void 0&&d(u)},[u]);const k=e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})));return e.createElement("div",null,e.createElement(Nt,{action:"",listType:"picture-card",fileList:w,onPreview:f,onChange:x},w!==void 0&&w.length>=1?null:k),e.createElement(Ye,{visible:h,title:N,footer:null,onCancel:E},e.createElement("img",{alt:"example",style:{width:"100%",height:"400px"},src:b})))},Sa=W`
  mutation LogIn($username: String!, $password: String!) {
    login(input: { username: $username, password: $password }) {
      access_token
      user {
        name
        email
        roles {
          name
        }
        images {
          id
          name
        }
      }
    }
  }
`,_a=W`
  mutation logout {
    logout {
      status
      message
    }
  }
`,$a=W`
  mutation changePassword(
    $old_password: String!
    $password: String!
    $password_confirmation: String!
  ) {
    updatePassword(
      input: {
        old_password: $old_password
        password: $password
        password_confirmation: $password_confirmation
      }
    ) {
      status
      message
    }
  }
`,Ia=W`
  mutation updateUser($id: ID!, $name: String, $images: [ID!]) {
    updateUser(input: { id: $id, name: $name, images: { connect: $images } }) {
      name
      images {
        id
        name
      }
    }
  }
`,La=W`
  mutation updateImageUser($id: ID!, $images: [ID!]) {
    updateUser(input: { id: $id, images: { connect: $images } }) {
      images {
        id
        name
      }
    }
  }
`,Ma=ta({uri:`${tt}graphql`}),Fa=aa((s,{headers:o})=>{const u=localStorage.getItem("_token");return{headers:Ce(ce({},o),{authorization:u?`Bearer ${u}`:""})}}),we=new na({link:Fa.concat(Ma),cache:new ra});const de=()=>e.createElement(e.Fragment,null,e.createElement("div",{className:"sk-chase content-center mx-auto my-8"},e.createElement("div",{className:"sk-chase-dot "}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}))),za=({show:s,setShowProfileModal:o,setAvatar:u,setProfileName:i})=>{const g=le(),[m]=Z(Ct),[v]=Z(St),[E]=Z(Ia),[f,{error:x}]=Z(La),[d,{error:h}]=Z($a),{data:b}=Me(dt),{loading:N}=ae(H=>H.ui),[w,y]=t.exports.useState(!1),[k,r]=t.exports.useState("Perfil de Usuario"),[a,n]=t.exports.useState(""),[l,S]=t.exports.useState(""),[$,D]=t.exports.useState(""),[K,q]=t.exports.useState(""),[C,c]=t.exports.useState(""),[_,L]=t.exports.useState(),[V,M]=t.exports.useState([]),[p,A]=t.exports.useState(""),[P,F]=t.exports.useState(""),[U,Q]=t.exports.useState(""),[z,j]=t.exports.useState(""),[R,oe]=t.exports.useState("view"),[ue,ie]=t.exports.useState(!1),se=()=>{y(!0)},Te=()=>{y(!1),o(!1)},Ee=(H,X,Y)=>{ne[H]({message:X,description:Y})},he=()=>{y(!1),o(!1)},De=({target:H})=>{S(H.value)},Ae=({target:H})=>{A(H.value)},fe=({target:H})=>{Q(H.value)},$e=({target:H})=>{j(H.value)},ye=async()=>{await we.refetchQueries({include:[dt]})},Oe=H=>new Promise((X,Y)=>{const J=new FileReader;J.readAsDataURL(H),J.onload=()=>X(J.result),J.onerror=pe=>Y(pe)}),T=async()=>{g(te());let H=!1,X="";try{try{ue===!0&&(p!==""&&U!==""&&z!==""?U===z?await d({variables:{old_password:p,password:U,password_confirmation:z}}).then(Y=>{const{status:J,message:pe}=Y.data.updatePassword}):(H=!0,Ee("warning","Atencion","No coinciden las contrase\xF1as!!")):(Ee("warning","Atenci\xF3n","Debe llenar las campos de las contrase\xF1as!"),H=!0))}catch(Y){console.log(Y),H=!0,Ee("error","Error","La actual contrase\xF1a no es v\xE1lida!!")}if(H===!1&&C!==""){if(P!==null&&P!==""){const J=parseInt(P!==""&&P);await m({variables:{id:J}})}const Y=await Oe(C);await v({variables:{name:Y}}).then(J=>{if(J!==null){const{id:pe}=J.data.storeImage;X=parseInt(pe)}})}H===!1&&X!==""&&X!==null&&await f({variables:{id:a,images:[X]}}).then(Y=>{const{images:J}=Y.data.updateUser;ye();const pe=localStorage.getItem("_token");J!==void 0&&J.length!==0&&u(J[0].name)}),H===!1&&(l!==""?await E({variables:{id:a,name:l}}).then(async Y=>{ye(),i(l)}):(H=!0,g(B()),Ee("warning","Atenci\xF3n","Debe llenar el nombre!")))}catch(Y){console.log(Y),Ee("error","Error",Y.message)}H===!1&&(Ee("success","Usuario Modificado","Su usuario fue modificado correctamente"),oe("view")),g(B())};return t.exports.useEffect(()=>{s&&se(),ye()},[s]),t.exports.useEffect(()=>{},[h]),t.exports.useEffect(()=>{A(""),Q(""),j("")},[R]),t.exports.useEffect(()=>{if(b!=null){const{id:H,name:X,email:Y,images:J,roles:pe}=b.me;if(n(H),S(X),D(Y),pe!=null&&pe.length!==0&&q(pe),J!=null&&J.length!==0){const{id:O}=J[0];F(O),M(J)}}},[b]),e.createElement(e.Fragment,null,e.createElement(Ye,{title:k,visible:w,onOk:Te,onCancel:he,footer:[e.createElement("div",{className:"my-5 flex content-center w-full "},N===!1?e.createElement("div",{className:"flex mx-auto"},R==="view"&&e.createElement("button",{onClick:()=>{oe("update"),ie(!1)},className:"flex  w-full mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 focus:outline-none hover:bg-green-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),R==="update"&&e.createElement("button",{onClick:T,className:"flex  w-full mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 focus:outline-none hover:bg-green-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},"Guardar")),R==="view"&&e.createElement("button",{onClick:he,className:"flex w-full mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-red-500 focus:outline-none hover:bg-red-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"Cerrar")),R==="update"&&e.createElement("button",{onClick:()=>{ie(!ue)},className:"flex w-full mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-indigo-500 focus:outline-none hover:bg-indigo-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})),e.createElement("span",{className:"mx-1"}," Contrase\xF1a")),R==="update"&&e.createElement("button",{onClick:()=>{oe("view")},className:"flex w-full mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-red-500 focus:outline-none hover:bg-red-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"Cancelar"))):e.createElement(de,{className:"my-10"}))],style:{textAlign:"center"}},R==="view"&&e.createElement("div",null,V.length!==0&&e.createElement("div",null,e.createElement("img",{className:"w-32 h-32 mx-auto content-center my-auto rounded-full ",src:V[0].name,alt:"brand"}),e.createElement("hr",{className:"my-4 "})),e.createElement(e.Fragment,null,e.createElement("div",{className:"flex content-center "},e.createElement("div",{className:"flex mx-auto cursor-default"},e.createElement("h1",{className:" text-md my-1 mx-1 text-center"},"Nombre: "),e.createElement("h1",{className:"text-blue-700 text-md my-1 mx-1 text-center"},`${l}`))),e.createElement("hr",{className:"my-4 mx-auto text-center"}),e.createElement("div",{className:"flex content-center "},e.createElement("div",{className:"flex mx-auto cursor-default"},e.createElement("h1",{className:" text-md my-1 mx-1 text-center"},"Email: "),e.createElement("h1",{className:"text-blue-700 text-md my-1 mx-1 text-center"},`${$}`))))),R==="update"&&N===!1&&e.createElement("div",null,e.createElement(Ca,{setPhoto:c,action:R,selectedImage:_}),e.createElement("hr",{className:"my-4 mx-auto text-center"}),e.createElement("div",{className:"my-5  "},e.createElement("div",{className:"my-8 "},e.createElement("label",{className:"text-md mx-4"},"Nombre:"),e.createElement("br",null),e.createElement(G,{value:l,onChange:De,placeholder:"Nombre",style:{width:"300px"}})),e.createElement("hr",{className:"my-4 mx-auto text-center"}),ue===!0&&N===!1&&e.createElement("div",null,e.createElement("div",{className:"my-8 "},e.createElement("label",{className:"text-md mx-4"},"Contrase\xF1a anterior:"),e.createElement("br",null),e.createElement(G.Password,{value:p,onChange:Ae,placeholder:"Contrase\xF1a anterior",style:{width:"300px"}})),e.createElement("div",{className:"my-8 "},e.createElement("label",{className:"text-md mx-4"},"Nueva Contrase\xF1a:"),e.createElement("br",null),e.createElement(G.Password,{value:U,onChange:fe,placeholder:"Nueva contrase\xF1a",style:{width:"300px"}})),e.createElement("div",{className:"my-8 "},e.createElement("label",{className:"text-md mx-4"},"Confirmar Contrase\xF1a:"),e.createElement("br",null),e.createElement(G.Password,{value:z,onChange:$e,placeholder:"Confirmar contrase\xF1a",style:{width:"300px"}})))))))},Ta=()=>{const[s]=Z(_a),o=le();ae(l=>l.ui);const{email:u}=ae(l=>l.auth),{name:i}=ae(l=>l.auth),{photo:g}=ae(l=>l.auth),[m,v]=t.exports.useState(),[E,f]=t.exports.useState(""),[x,d]=t.exports.useState(!1),[h,b]=t.exports.useState(!1);t.exports.useEffect(()=>{v(g),f(i)},[]);const[N,w]=t.exports.useState(!1),y=async()=>{await s().then(l=>{console.log(l)}),o(ya()),localStorage.removeItem("_token")},k=()=>{w(!N)},r=()=>{o(it(!0))},a=()=>{d(!0)},n=()=>{b(!0)};return e.createElement(e.Fragment,null,e.createElement("nav",{className:"  dark:bg-gray-800 border-b-4 border-blue-600"},e.createElement("div",{className:"container px-35 py-4 mx-auto "},e.createElement("div",{className:"flex md:justify-between"},e.createElement("div",{className:"flex float-left w-12",onClick:r},e.createElement("div",{className:"flex "},e.createElement("button",{type:"button",className:" dark:text-gray-200 hover:text-blue-600 dark:hover:text-gray-400 focus:outline-none  dark:focus:text-gray-400","aria-label":"toggle menu"},e.createElement("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),e.createElement("div",{className:"flex  float-right ml-auto"},e.createElement("div",{className:"flex "},e.createElement("div",{className:"relative"},e.createElement("div",{onClick:k,className:" relative z-10 flex items-center p-2 text-sm text-gray-600 bg-white border border-transparent rounded-md focus:border-blue-500 focus:ring-opacity-40 dark:focus:ring-opacity-40 focus:ring-blue-500 dark:focus:ring-blue-600 focus:ring dark:text-white dark:bg-gray-800 focus:outline-none cursor-pointer"},e.createElement("button",{className:" flex mx-auto my-auto hover:text-blue-600  font-semibold outline-none "},m!==""?e.createElement("img",{className:"flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9",src:m,alt:"avatar"}):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})))),N&&e.createElement("div",{onMouseLeave:k,onClick:k,className:"border-2 border-gray-50 animate__animated animate__fadeIn  absolute right-0 z-20 w-56 py-2 mt-2 overflow-hidden bg-white rounded-md shadow-xl dark:bg-gray-800"},e.createElement("a",{href:"#",className:"flex items-center p-3 -mt-2 text-sm text-gray-600 transition-colors duration-200 transform dark:text-gray-300 hover:text-blue-600 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},m!==""?e.createElement("img",{className:"flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9",src:m,alt:"avatar"}):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("div",{className:"mx-1 "},e.createElement("h1",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200"},E!==void 0?E:"User"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},u!==void 0?u:""))),e.createElement("hr",{className:"border-gray-200 dark:border-gray-700 "}),e.createElement("a",{onClick:n,href:"#",className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-600  flex items-center p-3 text-sm text-gray-600 capitalize transition-colors duration-200 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},e.createElement("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8C17 10.7614 14.7614 13 12 13C9.23858 13 7 10.7614 7 8ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z",fill:"currentColor"}),e.createElement("path",{d:"M6.34315 16.3431C4.84285 17.8434 4 19.8783 4 22H6C6 20.4087 6.63214 18.8826 7.75736 17.7574C8.88258 16.6321 10.4087 16 12 16C13.5913 16 15.1174 16.6321 16.2426 17.7574C17.3679 18.8826 18 20.4087 18 22H20C20 19.8783 19.1571 17.8434 17.6569 16.3431C16.1566 14.8429 14.1217 14 12 14C9.87827 14 7.84344 14.8429 6.34315 16.3431Z",fill:"currentColor"})),e.createElement("span",{className:"mx-1 "},"Ver Perfil")),e.createElement("a",{onClick:a,href:"#",className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-600 flex items-center p-3 text-sm text-gray-600 capitalize transition-colors duration-200 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},e.createElement("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 22C6.47967 21.9939 2.00606 17.5203 2 12V11.8C2.10993 6.30452 6.63459 1.92794 12.1307 2.00087C17.6268 2.07379 22.0337 6.56887 21.9978 12.0653C21.9619 17.5618 17.4966 21.9989 12 22ZM11.984 20H12C16.4167 19.9956 19.9942 16.4127 19.992 11.996C19.9898 7.57928 16.4087 3.99999 11.992 3.99999C7.57528 3.99999 3.99421 7.57928 3.992 11.996C3.98979 16.4127 7.56729 19.9956 11.984 20ZM13 18H11V16H13V18ZM13 15H11C10.9684 13.6977 11.6461 12.4808 12.77 11.822C13.43 11.316 14 10.88 14 9.99999C14 8.89542 13.1046 7.99999 12 7.99999C10.8954 7.99999 10 8.89542 10 9.99999H8V9.90999C8.01608 8.48093 8.79333 7.16899 10.039 6.46839C11.2846 5.76778 12.8094 5.78493 14.039 6.51339C15.2685 7.24184 16.0161 8.57093 16 9.99999C15.9284 11.079 15.3497 12.0602 14.44 12.645C13.6177 13.1612 13.0847 14.0328 13 15Z",fill:"currentColor"})),e.createElement("span",{className:"mx-1"},"Ayuda")),e.createElement("hr",{className:"border-gray-200 dark:border-gray-700 "}),e.createElement("a",{href:"#",onClick:y,className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-600 flex items-center p-3 text-sm text-gray-600 capitalize transition-colors duration-200 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},e.createElement("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M19 21H10C8.89543 21 8 20.1046 8 19V15H10V19H19V5H10V9H8V5C8 3.89543 8.89543 3 10 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM12 16V13H3V11H12V8L17 12L12 16Z",fill:"currentColor"})),e.createElement("span",{className:"mx-1"},"Salir")))))),e.createElement(ka,{show:x,setShowHelpModal:d}),e.createElement(za,{show:h,setShowProfileModal:b,setAvatar:v,setProfileName:f})))))},Re=W`
  query getContacts {
    contacts {
      id
      name
      dni
      phone
      email
      place
      categories {
        name
      }
    }
  }
`,ut=W`
  query getContactById($id: ID!) {
    contact(id: $id) {
      id
      name
      dni
      phone
      email
      family
      place
      ministerial_area
      description
      commitment
      profession
      vocational_category
      ministerial_passion
      interest_group
      additional_note
      images {
        id
        name
      }
      categories {
        id
        name
      }
    }
  }
`,Da=W`
  query contactByCategory($categories: Mixed) {
    contactByCategory(
      categories: { column: ID, operator: IN, value: $categories }
    ) {
      id
      name
      categories {
        id
        name
      }
    }
  }
`,Aa=W`
  mutation (
    $name: String!
    $dni: String
    $phone: String
    $email: String
    $family: String
    $place: String
    $ministerial_area: String
    $description: String
    $commitment: String
    $profession: String
    $vocational_category: String
    $ministerial_passion: String
    $interest_group: String
    $additional_note: String
    $categories: [ID]
    $images: [ID]
  ) {
    createContact(
      input: {
        name: $name
        dni: $dni
        phone: $phone
        email: $email
        family: $family
        place: $place
        ministerial_area: $ministerial_area
        description: $description
        commitment: $commitment
        profession: $profession
        vocational_category: $vocational_category
        ministerial_passion: $ministerial_passion
        interest_group: $interest_group
        additional_note: $additional_note
        images: { connect: $images }
        categories: { connect: $categories }
      }
    ) {
      id
      name
    }
  }
`,Oa=W`
  mutation deleteContact($id: ID!) {
    deleteContact(id: $id) {
      name
    }
  }
`,Ba=W`
  mutation deleteContacts($ids: [Int]) {
    deleteContacts(ids: $ids) {
      id
    }
  }
`,Pa=W`
  mutation disconnectForeignKeys($id: ID!, $categories: [ID], $images: [ID]) {
    updateContact(
      input: {
        id: $id
        categories: { disconnect: $categories }
        images: { disconnect: $images }
      }
    ) {
      id
    }
  }
`,Ra=W`
  mutation updateContact(
    $id: ID!
    $name: String
    $dni: String
    $phone: String
    $email: String
    $family: String
    $place: String
    $ministerial_area: String
    $description: String
    $commitment: String
    $profession: String
    $vocational_category: String
    $ministerial_passion: String
    $interest_group: String
    $additional_note: String
    $images: [ID]
    $categories: [ID]
  ) {
    updateContact(
      input: {
        id: $id
        name: $name
        dni: $dni
        phone: $phone
        email: $email
        family: $family
        place: $place
        ministerial_area: $ministerial_area
        description: $description
        commitment: $commitment
        profession: $profession
        vocational_category: $vocational_category
        ministerial_passion: $ministerial_passion
        interest_group: $interest_group
        additional_note: $additional_note
        images: { connect: $images }
        categories: { connect: $categories }
      }
    ) {
      id
    }
  }
`,Ve=W`
  query Categories {
    categories {
      id
      name
    }
  }
`,Va=({contactList:s,setSelectedIds:o,categoryFilter:u,placeFilter:i})=>{let g="";const v=[Ce(ce({title:"Nombre",dataIndex:"name"},(r=>({filterDropdown:({setSelectedKeys:a,selectedKeys:n,confirm:l,clearFilters:S})=>e.createElement("div",{style:{padding:8}},e.createElement(G,{ref:$=>{g=$},placeholder:"Busqueda",value:n[0],onChange:$=>a($.target.value?[$.target.value]:[]),onPressEnter:()=>w(n,l,r),style:{marginBottom:8,display:"block"}}),e.createElement(Ke,null,e.createElement(xe,{type:"primary",onClick:()=>w(n,l,r),icon:e.createElement(Fe,null),size:"small",style:{width:90}},"Buscar"),e.createElement(xe,{onClick:()=>y(S),size:"small",style:{width:90}},"Limpiar"))),filterIcon:a=>e.createElement(Fe,{style:{color:a?"#1890ff":void 0}}),onFilter:(a,n)=>n[r]?n[r].toString().toLowerCase().includes(a.toLowerCase()):"",onFilterDropdownVisibleChange:a=>{a&&setTimeout(()=>g.select(),100)},render:a=>a}))("name")),{width:"35%",defaultSortOrder:"descend",sorter:(r,a)=>r.name.length-a.name.length}),{title:"Lugar",dataIndex:"place",filters:i,onFilter:(r,a)=>a.place.includes(r),filterSearch:!0,width:"30%"},{title:"Categor\xEDas",dataIndex:"categories",filters:u,onFilter:(r,a)=>a.categories.includes(r),width:"30%",filterSearch:!0,render:r=>e.createElement(e.Fragment,null,r!==void 0&&r.length!==0&&r.map(a=>{let n="geekblue";return e.createElement(He,{color:n,key:a},a.toUpperCase())}))}],[E,f]=t.exports.useState([]),x={onChange:(r,a)=>{if(a.length!==0){let n=[];a.forEach(l=>{const{key:S}=l;n.push(parseInt(S))}),o(n)}},getCheckboxProps:r=>({disabled:r.name==="Disabled User",name:r.name})},d="checkbox",h={searchText:"",searchedColumn:""},[b,N]=t.exports.useState(h),w=(r,a,n)=>{a(),N({searchText:r[0],searchedColumn:n})},y=r=>{r(),N({searchText:""})};function k(r,a,n,l){}return t.exports.useEffect(()=>(s!==void 0&&f(s),()=>{f([])}),[s]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Ze,{rowSelection:ce({type:d},x),columns:v,dataSource:E,onChange:k}))},ja=({history:s})=>{const{data:o}=Me(Re),[u]=Z(Oa),[i]=Z(Ba),[g,{data:m}]=me(Ve),[v,E]=t.exports.useState([]),[f,x]=t.exports.useState([]),[d,h]=t.exports.useState([]),[b,N]=t.exports.useState([]),[w,y]=t.exports.useState([]),k=le(),{loading:r}=ae(c=>c.ui),a=c=>{E([]),c.forEach(_=>{const{categories:L}=_,V={key:_.id,name:_.name,dni:_.dni,phone:_.phone,email:_.email,place:_.place,categories:L.length!==0?L.map(M=>M.name):""};E(M=>[...M,V])})},n=async()=>{if(k(te()),ne.destroy(),d.length===1)try{await u({variables:{id:d[0]}}).then(c=>{C("success","Informacion","Contacto eliminado satisfactoriamente!"),l()})}catch(c){console.log(c.name),C("error","Error!",`Ocurrio un error: ${c.name}`)}else if(d.length>1)try{await i({variables:{ids:d}}).then(c=>{C("success","Informacion","Contactos eliminados satisfactoriamente!"),l()})}catch(c){console.log(c)}else C("warning","Atencion!","Debe seleccionar al menos un contacto!")},l=()=>{h([]),E([]),x([]),D()},S=()=>{if(d.length!==0){const c=`open${Date.now()}`,_=e.createElement(xe,{type:"danger",onClick:n,style:{borderRadius:"100px"}},"Confirmar");ne.open({message:"Atencion!",description:"Esta seguro que desea eliminar el contacto?",btn:_,key:c})}else C("warning","Atencion!","Debe seleccionar al menos un contacto!")},$=()=>{s.push("/dashboard/contacts/form")},D=async()=>{await we.refetchQueries({include:[Re]}),k(B())},K=()=>{if(d.length!==0){const c=d[0];c!==void 0&&c!==""&&s.replace(`/dashboard/contacts/view/${c}`)}else C("warning","Atencion!","Debe seleccionar al menos un contacto!")},q=()=>{if(d.length!==0){const c=d[0];c!==void 0&&c!==""&&s.replace(`/dashboard/contacts/form/${c}`)}else C("warning","Atencion!","Debe seleccionar al menos un contacto!")},C=(c,_,L)=>{ne[c]({message:_,description:L})};return t.exports.useEffect(()=>{if(o!==void 0){const{contacts:c}=o;if(c!=null){a(c);const _=c.map(M=>M.place),L=_.filter((M,p)=>_.indexOf(M)===p);let V=[];L.forEach(M=>{const p={text:M,value:M};p.text!==""&&V.push(p)}),y(V)}}},[o]),t.exports.useEffect(()=>{if(m!==void 0){const{categories:c}=m;let _=[];c.forEach(L=>{const V={text:L.name,value:L.name};_.push(V)}),N(_)}},[m]),t.exports.useEffect(()=>{v.length!==0&&x(v)},[v]),t.exports.useEffect(()=>{k(te()),g(),D()},[]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},r===!1?e.createElement("div",{className:"overflow-hidden "},e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1"},e.createElement("p",{className:"mx-2 "},"Lista de contactos"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 my-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),e.createElement("hr",{className:"w-1/4"})),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:$,className:"flex mx-1 px-4 py-2 hover:bg-green-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:q,className:"flex mx-1 px-4 py-2 hover:bg-blue-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:K,className:"flex mx-1 px-4 py-2 hover:bg-indigo-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:S,className:"flex mx-1 px-4 py-2 hover:bg-red-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,f.length!==0?e.createElement(Va,{contactList:f,setSelectedIds:h,categoryFilter:b,placeFilter:w,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay contactos en la base de datos aun."),e.createElement("p",{onClick:$,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Contacto +")))):e.createElement(de,{className:"my-10"}))},qa=({setPhoto:s,action:o,selectedImage:u})=>{const i={previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]},[g,m]=t.exports.useState(i),v=r=>new Promise((a,n)=>{const l=new FileReader;l.readAsDataURL(r),l.onload=()=>a(l.result),l.onerror=S=>n(S)}),E=()=>m({previewVisible:!1,fileList:w}),f=async r=>{r.preview===void 0&&r.url===void 0?(r.preview=await v(r.originFileObj),m({previewImage:r.preview,previewVisible:!0,previewTitle:"Foto",fileList:[r]})):r.preview!==void 0&&r.url===void 0?m({previewImage:r.preview,previewVisible:!0,previewTitle:"Foto",fileList:[r]}):r.url!==void 0&&m({previewImage:r.url,previewVisible:!0,previewTitle:"Foto",fileList:[r]})},x=({fileList:r})=>{if(r!==void 0&&r.length!==0){m({fileList:r});const{originFileObj:a}=r[0];s(a)}m({fileList:r})},d=r=>{if(r!==void 0){const{id:a,name:n}=r;m({fileList:[{uid:"-1",name:"",status:"done",url:n}]})}},{previewVisible:h,previewImage:b,previewTitle:N,fileList:w}=g,y=()=>{w!==void 0&&w.length!==0&&(w[0].status="done")};t.exports.useEffect(()=>{y()},[g]),t.exports.useEffect(()=>{o==="update"&&u!==void 0&&d(u)},[u]);const k=e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})));return e.createElement("div",null,e.createElement(Nt,{action:"",listType:"picture-card",fileList:w,onPreview:f,onChange:x},w!==void 0&&w.length>=1?null:k),e.createElement(Ye,{visible:h,title:N,footer:null,onCancel:E},e.createElement("img",{alt:"example",style:{width:"100%",height:"400px"},src:b})))},pt=({setCategories:s,selectedCategories:o})=>{const[u,{data:i}]=me(Ve);let g=i!==void 0?i.categories:[];const[m,v]=t.exports.useState([]),E=d=>{v(d)},f=g.filter(d=>!m.includes(d)),x=d=>{let h=[];return d.forEach(b=>{g.forEach(N=>{N.name===b&&h.push(N.id)})}),h};return t.exports.useEffect(()=>{const d=x(m);s(d)},[m]),t.exports.useEffect(()=>{u()},[]),t.exports.useEffect(()=>{const d=o.map(h=>h.name);v(d)},[o]),t.exports.useEffect(()=>{i!==void 0&&(g=i.categories)},[i]),e.createElement("div",null,e.createElement(We,{mode:"multiple",placeholder:"Seleccione las Categor\xEDas",value:m,onChange:E,style:{width:"350px"}},f.map(d=>e.createElement(We.Option,{key:d.id,value:d.name},d.name))))},{TextArea:Ge}=G,_t=({history:s})=>{const{id:o}=Pe(),[u]=Z(Aa),[i]=Z(Pa),[g]=Z(Ra),[m]=Z(Ct),[v]=Z(St),[E,{data:f}]=me(ut),x=le(),{loading:d}=ae(I=>I.ui),[h,b]=t.exports.useState(""),[N,w]=t.exports.useState(""),[y,k]=t.exports.useState(""),[r,a]=t.exports.useState(""),[n,l]=t.exports.useState(""),[S,$]=t.exports.useState(""),[D,K]=t.exports.useState(""),[q,C]=t.exports.useState(""),[c,_]=t.exports.useState(""),[L,V]=t.exports.useState(""),[M,p]=t.exports.useState(""),[A,P]=t.exports.useState(""),[F,U]=t.exports.useState(""),[Q,z]=t.exports.useState(""),[j,R]=t.exports.useState(""),[oe,ue]=t.exports.useState(),[ie,se]=t.exports.useState(""),[Te,Ee]=t.exports.useState([]),[he,De]=t.exports.useState([]),[Ae,fe]=t.exports.useState(),[$e,ye]=t.exports.useState([]),[Oe,T]=t.exports.useState(""),H=({target:I})=>{w(I.value)},X=({target:I})=>{k(I.value)},Y=({target:I})=>{a(I.value)},J=({target:I})=>{l(I.value)},pe=({target:I})=>{$(I.value)},O=({target:I})=>{K(I.value)},Ne=({target:I})=>{C(I.value)},ve=({target:I})=>{V(I.value)},Se=({target:I})=>{p(I.value)},ge=({target:I})=>{P(I.value)},ot=({target:I})=>{U(I.value)},lt=({target:I})=>{z(I.value)},ct=({target:I})=>{_(I.value)},Qe=({target:I})=>{R(I.value)},Xe=async()=>{await we.clearStore({include:[ut]})},Je=async()=>{je()&&(x(te()),h==="save"?await zt():(await Xe(),await Tt()))},je=()=>{let I=!0;return ze.isEmpty(N)&&(Ie("warning","Atencion","Llene el nombre!"),I=!1),!ze.isEmpty(y)&&!ze.isNumeric(y)&&(Ie("warning","Atencion","Revise el dni!"),k(""),I=!1),!ze.isEmpty(n)&&!ze.isEmail(n)&&(Ie("warning","Atencion","Entre un correo valido!"),l(""),I=!1),I},Ie=(I,be,ke)=>{ne[I]({message:be,description:ke})},Ft=()=>{s.push("/dashboard/contacts")},zt=async()=>{let I=await ft();const be=String(y),ke=String(r);if(I!=="")try{await u({variables:{name:N,dni:be,phone:ke,email:n,family:S,place:D,ministerial_area:q,description:c,commitment:L,profession:M,vocational_category:A,ministerial_passion:F,interest_group:Q,additional_note:j,categories:he,images:[I]}}).then(ee=>{const{id:Le,name:Be}=ee.data.createContact;Ie("success","Contacto Guardado",`El contacto ${Be} se guardo de forma satisfactoria!`),x(B()),s.push("/dashboard/contacts")})}catch(ee){console.log(ee.message),x(B()),Ie("error","Error",`Ocurrio algun error: ${ee.message} !`)}else try{await u({variables:{name:N,dni:be,phone:ke,email:n,family:S,place:D,ministerial_area:q,description:c,commitment:L,profession:M,vocational_category:A,ministerial_passion:F,interest_group:Q,additional_note:j,categories:he,images:[]}}).then(ee=>{const{id:Le,name:Be}=ee.data.createContact;Ie("success","Contacto Guardado",`El contacto ${Be} se guardo de forma satisfactoria!`),x(B()),s.push("/dashboard/contacts")})}catch(ee){console.log(ee.message),x(B()),Ie("error","Error",`Ocurrio algun error: ${ee.message} !`)}},Tt=async()=>{const I=o,be=String(y),ke=String(r);try{if(oe===void 0)he.length===0?await i({variables:{id:I,categories:[],images:[]}}).then(ee=>{}):await i({variables:{id:I,categories:$e,images:[]}}).then(ee=>{}),await g({variables:{id:I,name:N,dni:be,phone:ke,email:n,family:S,place:D,ministerial_area:q,description:c,commitment:L,profession:M,vocational_category:A,ministerial_passion:F,interest_group:Q,additional_note:j,images:[],categories:he}}).then(ee=>{ye([]),T(""),Ie("success","Contacto Modificado","El contacto se ha modificado de forma satisfactoria!"),x(B()),s.push("/dashboard/contacts")});else{he.length===0?await i({variables:{id:I,categories:[],images:[]}}).then(Be=>{}):await i({variables:{id:I,categories:$e,images:[]}}).then(Be=>{});const ee=Number(Oe);await m({variables:{id:ee}}).then(Be=>{});let Le=await ft();await g({variables:{id:I,name:N,dni:be,phone:ke,email:n,family:S,place:D,ministerial_area:q,description:c,commitment:L,profession:M,vocational_category:A,ministerial_passion:F,interest_group:Q,additional_note:j,images:[Le],categories:he}}).then(Be=>{ye([]),T(""),Ie("success","Contacto Modificado","El contacto se ha modificado de forma satisfactoria!"),x(B()),s.push("/dashboard/contacts")})}}catch(ee){x(B()),Ie("error","Error",`Ocurrio algun error: ${ee.message} !`)}},Dt=I=>new Promise((be,ke)=>{const ee=new FileReader;ee.readAsDataURL(I),ee.onload=()=>be(ee.result),ee.onerror=Le=>ke(Le)}),ft=async()=>{let I="";try{if(oe!==void 0){const ke=await Dt(oe);await v({variables:{name:ke}}).then(ee=>{if(ee.data.storeImage!==void 0){const{id:Le}=ee.data.storeImage;se(Le),I=Le}})}}catch(be){x(B()),console.log(be.message)}return I};return t.exports.useEffect(()=>{o!==void 0?(x(te()),b("update")):b("save")},[]),t.exports.useEffect(async()=>{h==="update"&&E({variables:{id:o}})},[h]),t.exports.useEffect(()=>{if(f!==void 0)try{const{name:I,dni:be,phone:ke,email:ee,family:Le,place:Be,ministerial_area:At,description:Ot,commitment:Bt,profession:Pt,vocational_category:Rt,ministerial_passion:Vt,interest_group:jt,additional_note:qt,images:vt,categories:bt}=f.contact;if(w(I),k(be),a(ke),l(ee),$(Le),K(Be),C(At),_(Ot),V(Bt),p(Pt),P(Rt),U(Vt),z(jt),R(qt),Ee(bt),vt.length!==0){const{id:et,name:Ht}=vt[0];fe({id:et,name:Ht}),T(et)}x(B()),ye(bt.map(et=>et.id))}catch(I){console.log(I.message)}},[f]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},d?e.createElement("div",null,e.createElement(de,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},h==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Guardar Contacto"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${N}`))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Modificar Contacto"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${N}`)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:"my-6"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Nombre ",e.createElement("span",{className:"text-red-600 text-md mx-1"},"*"))),e.createElement(G,{placeholder:"Nombre",value:N,onChange:H,style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Nota Adicional"),e.createElement(Ge,{value:j,onChange:Qe,placeholder:"Nota Adicional",style:{width:"350px"},autoSize:!0})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Carnet de Identidad"),e.createElement(G,{value:y,onChange:X,placeholder:"Dni",style:{width:"350px"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-3"},e.createElement("div",{className:"my-auto"},e.createElement("label",null,"Tel\xE9fono"),e.createElement(G,{value:r,style:{width:"350px"},onChange:Y,placeholder:"Tel\xE9fono"})),e.createElement("div",{className:"my-auto"},e.createElement("label",null,"Email"),e.createElement(G,{placeholder:"Email",onChange:J,value:n,style:{width:"350px"}})),e.createElement("div",{className:"my-auto"},e.createElement("label",null,"Familia"),e.createElement(Ge,{value:S,onChange:pe,placeholder:"Familia",style:{width:"350px"},autoSize:!0}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-auto"},e.createElement("div",{className:"my-6"},e.createElement("label",null,"Lugar"),e.createElement(G,{value:D,onChange:O,placeholder:"Lugar",style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Area Ministerial"),e.createElement(G,{value:q,onChange:Ne,placeholder:"Area Ministerial",style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Descripci\xF3n"),e.createElement(Ge,{value:c,onChange:ct,placeholder:"Descripci\xF3n",style:{width:"350px"},autoSize:!0}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-auto"},e.createElement("div",{className:"my-6"},e.createElement("label",null,"Compromiso con Apoyo"),e.createElement(Ge,{value:L,onChange:ve,placeholder:"Compromiso con Apoyo",style:{width:"350px"},autoSize:!0})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Profesi\xF3n"),e.createElement(G,{value:M,onChange:Se,placeholder:"Profesi\xF3n",style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Categor\xEDa Vocacional"),e.createElement(Ge,{value:A,onChange:ge,placeholder:"Categor\xEDa Vocacional",style:{width:"350px"},autoSize:!0}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-auto"},e.createElement("div",{className:"my-6"},e.createElement("label",null,"Pasi\xF3n Ministerial"),e.createElement(Ge,{value:F,onChange:ot,placeholder:"Pasi\xF3n Ministerial",style:{width:"350px"},autoSize:!0})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Grupo de Inter\xE9s"),e.createElement(G,{value:Q,onChange:lt,placeholder:"Grupo de Inter\xE9s",style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Categorias"),e.createElement(pt,{selectedCategories:Te,setCategories:De}))),e.createElement("div",{className:"my-8 items-center flex"},e.createElement("div",{className:"flex mx-auto"},e.createElement(qa,{setPhoto:ue,action:h,selectedImage:Ae}))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:Je,className:"flex w-48 mx-1 px-4 py-2 hover:bg-green-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},h==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:Ft,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 focus:outline-none hover:bg-blue-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},Ha=({history:s})=>{const{id:o}=Pe(),[u,{data:i}]=me(ut),[g,m]=t.exports.useState(""),[v,E]=t.exports.useState(""),[f,x]=t.exports.useState(""),[d,h]=t.exports.useState(""),[b,N]=t.exports.useState(""),[w,y]=t.exports.useState(""),[k,r]=t.exports.useState(""),[a,n]=t.exports.useState(""),[l,S]=t.exports.useState(""),[$,D]=t.exports.useState(""),[K,q]=t.exports.useState(""),[C,c]=t.exports.useState(""),[_,L]=t.exports.useState(""),[V,M]=t.exports.useState(""),[p,A]=t.exports.useState(""),[P,F]=t.exports.useState([]),U=le(),{loading:Q}=ae(j=>j.ui);t.exports.useEffect(()=>{u({variables:{id:o}}),U(te())},[]),t.exports.useEffect(()=>{if(!i)return e.createElement(Ue,{to:"/dashboard/contacts"});const j=i.contact;if(j!==null){const{name:R,dni:oe,phone:ue,email:ie,family:se,place:Te,ministerial_area:Ee,description:he,commitment:De,profession:Ae,vocational_category:fe,ministerial_passion:$e,interest_group:ye,additional_note:Oe,images:T,categories:H}=j;m(R),E(oe),x(ue),h(ie),N(se),y(Te),r(Ee),n(he),S(De),D(Ae),q(fe),c($e),L(ye),M(Oe);const X=T.length!==0?T[0].name:"";A(X);const Y=H.length!==0?H.map(J=>J.name):[];F(Y),U(B())}},[i]);const z=()=>{s.push("/dashboard/contacts")};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},Q?e.createElement("div",{className:"flex content-center"},e.createElement(de,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-2xl mx-3 "},"Tarjeta de Contacto"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${g}`))),e.createElement("hr",null),e.createElement("div",null,p!==""&&e.createElement("div",{className:""},e.createElement("img",{className:"animate__animated animate__fadeIn w-40 h-40 rounded-full my-6  mx-auto content-center",alt:"Avatar",src:p}),e.createElement("hr",null))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center flex"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto my-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"}))),e.createElement("p",{className:"text-xl font-semibold text-blue-700 text-center"},v))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center flex "},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"}))),e.createElement("p",{className:"text-xl font-semibold text-blue-700 text-center"},f))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center flex "},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"}))),e.createElement("p",{className:"text-xl text-center font-semibold text-blue-700"},d)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Familia "),e.createElement("p",{className:"text-sm text-center font-semibold"},b))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Lugar "),e.createElement("p",{className:"text-sm text-center font-semibold"},w))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Area Ministerial "),e.createElement("p",{className:"text-sm text-center font-semibold"},k)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Descripci\xF3n"),e.createElement("p",{className:"text-sm text-center font-semibold"},a))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Compromiso con Apoyo"),e.createElement("p",{className:"text-sm text-center font-semibold"},l))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Profesi\xF3n"),e.createElement("p",{className:"text-sm text-center font-semibold"},$)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Categor\xEDa Vocacional"),e.createElement("p",{className:"text-sm text-center font-semibold"},K))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Pasi\xF3n Ministerial"),e.createElement("p",{className:"text-sm text-center font-semibold"},C))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Grupo o Etnia de Inter\xE9s"),e.createElement("p",{className:"text-sm text-center font-semibold"},_)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Nota Adicional"),e.createElement("p",{className:"text-sm text-center font-semibold"},V))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Categor\xEDas"),e.createElement("div",{className:"text-md font-semibold text-center"},P.map((j,R)=>e.createElement("p",{key:R,className:"text-blue-700 inline-block mx-2"},`#${j}`)))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:z,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border text-white border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-indigo-500 hover:bg-indigo-400  focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")),e.createElement("button",{onClick:()=>{s.push("/dashboard/search")},className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border text-white border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 hover:bg-blue-400  focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"Buscar")))))))},Wa=W`
  mutation updateCategory($id: ID!, $name: String!) {
    updateCategory(id: $id, name: $name) {
      name
    }
  }
`,Ua=W`
  mutation deleteCategory($id: ID!) {
    deleteCategory(id: $id) {
      name
    }
  }
`,Ga=W`
  mutation deleteCategories($ids: [Int]) {
    deleteCategories(ids: $ids) {
      id
    }
  }
`,Ya=W`
  mutation createCategory($name: String!) {
    createCategory(name: $name) {
      id
    }
  }
`,Za=({categoriesList:s,setSelectedIds:o})=>{let u="";const g=[Ce(ce({title:"Categor\xEDa",dataIndex:"name"},(w=>({filterDropdown:({setSelectedKeys:y,selectedKeys:k,confirm:r,clearFilters:a})=>e.createElement("div",{style:{padding:8}},e.createElement(G,{ref:n=>{u=n},placeholder:"Busqueda",value:k[0],onChange:n=>y(n.target.value?[n.target.value]:[]),onPressEnter:()=>b(k,r,w),style:{marginBottom:8,display:"block"}}),e.createElement(Ke,null,e.createElement(xe,{type:"primary",onClick:()=>b(k,r,w),icon:e.createElement(Fe,null),size:"small",style:{width:90}},"Buscar"))),filterIcon:y=>e.createElement(Fe,{style:{color:y?"#1890ff":void 0}}),onFilter:(y,k)=>k[w]?k[w].toString().toLowerCase().includes(y.toLowerCase()):"",onFilterDropdownVisibleChange:y=>{y&&setTimeout(()=>u.select(),100)},render:y=>y}))("name")),{defaultSortOrder:"descend",sorter:(w,y)=>w.name.length-y.name.length})],[m,v]=t.exports.useState([]),E={onChange:(w,y)=>{if(y.length!==0){let k=[];y.forEach(r=>{const{key:a}=r;k.push(parseInt(a))}),o(k)}},getCheckboxProps:w=>({disabled:w.name==="Disabled User",name:w.name})},f="checkbox",x={searchText:"",searchedColumn:""},[d,h]=t.exports.useState(x),b=(w,y,k)=>{y(),h({searchText:w[0],searchedColumn:k})};function N(w,y,k,r){}return t.exports.useEffect(()=>(s!==void 0&&v(s),()=>{v([])}),[s]),e.createElement("div",null,e.createElement(Ze,{rowSelection:ce({type:f},E),columns:g,dataSource:m,onChange:N}))},Ka=({action:s,show:o,setShowModal:u,setCategoryName:i,category:g,saveCategory:m,modifyCategory:v})=>{const[E,f]=t.exports.useState(!1),[x,d]=t.exports.useState(""),[h,b]=t.exports.useState(""),N=()=>{f(!0)},w=()=>{f(!1),u(!1),s==="save"&&(x!==""?(m(x),d("")):y("warning","Atencion","Llene la categor\xEDa!!")),s==="update"&&(x!==""?(v(x),d("")):y("warning","Atencion","Llene la categor\xEDa!!"))},y=(a,n,l)=>{ne[a]({message:n,description:l})},k=()=>{d(""),i(""),f(!1),u(!1)},r=({target:a})=>{d(a.value),i(x)};return t.exports.useEffect(()=>{s!==void 0&&(s==="save"?b("Agregar Categor\xEDa"):(b("Modificar Categor\xEDa"),d(g)))},[s]),t.exports.useEffect(()=>{o!==void 0&&(o?(s==="update"&&(b("Modificar Categor\xEDa"),d(g)),N()):f(!1))},[o]),e.createElement(e.Fragment,null,e.createElement(Ye,{title:h,visible:E,onOk:w,onCancel:k,footer:[e.createElement(xe,{key:"submit",type:"primary",onClick:w,style:{borderRadius:"100px"}},s==="save"?"Agregar":"Modificar"),e.createElement(xe,{key:"back",type:"danger",onClick:k,style:{borderRadius:"100px"}},"Cancelar")]},e.createElement(G,{placeholder:"Categor\xEDa",value:x,onChange:r,onPressEnter:w})))},Qa=({history:s})=>{const[o,u]=t.exports.useState([]),[i,g]=t.exports.useState([]),[m,v]=t.exports.useState(""),[E,f]=t.exports.useState(""),[x,d]=t.exports.useState(!1),h=le(),{loading:b}=ae(C=>C.ui),{data:N}=Me(Ve),[w]=Z(Wa),[y]=Z(Ua),[k]=Z(Ga),[r]=Z(Ya),a=async()=>{await we.refetchQueries({include:[Ve]}),h(B())},n=(C,c,_)=>{ne[C]({message:c,description:_})},l=C=>{u([]),C.forEach(c=>{const _={key:c.id,name:c.name};u(L=>[...L,_])})},S=async C=>{if(C!=="")try{await r({variables:{name:C}}).then(c=>{a(),n("success","Categor\xEDa agregada",`La categor\xEDa ${C} fue agregada satisfactoriamente`)})}catch(c){console.log(c.message)}},$=async C=>{if(i.length!==0){if(C!=="")try{await w({variables:{id:i[0],name:C}}).then(c=>{a(),n("success","Categor\xEDa modificada",`La categor\xEDa ${C} fue modificada satisfactoriamente`)})}catch(c){console.log(c.message)}}else n("success","Atencion!","Selecione una Categor\xEDa!!!")},D=async()=>{if(ne.destroy(),i.length===1)h(te()),await y({variables:{id:i[0]}}).then(C=>{a(),n("success","Categor\xEDa eliminada","La categor\xEDa fue eliminada satisfactoriamente")});else if(i.length>1){h(te());try{await k({variables:{ids:i}}).then(C=>{n("success","Categor\xEDa eliminada","Las categor\xEDas fueron eliminadas satisfactoriamente"),K()})}catch(C){console.log(C.name),n("error","Error!",`Ocurrio un error: ${C.name}`)}}else n("warning","Atencion!!","Seleccione una categor\xEDa!!")},K=()=>{g([]),u([]),a()},q=()=>{if(i.length!==0){const C=`open${Date.now()}`,c=e.createElement(xe,{type:"danger",onClick:D,style:{borderRadius:"100px"}},"Confirmar");ne.open({message:"Atencion!",description:"Esta seguro que desea eliminar la categor\xEDa?",btn:c,key:C})}else n("warning","Atencion!","Debe seleccionar al menos una categor\xEDa!")};return t.exports.useEffect(()=>{h(te()),a()},[]),t.exports.useEffect(()=>{if(N!==void 0){const{categories:C}=N;l(C)}},[N]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-xl dark:bg-gray-800"},b===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-2"},e.createElement("p",{className:"mx-2 "},"Lista de categor\xEDas"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:" my-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}))),e.createElement("hr",{className:"w-1/4"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400  focus:outline-none text-white",type:"button",onClick:()=>{d(!0),f("save")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:()=>{if(i.length!==0){if(o.length!==0){const C=o.filter(c=>c.key==i[0]);if(C.length!==0){const{name:c}=C[0];v(c),f("update"),d(!0)}}}else n("warning","Atencion!","Debe seleccionar una categor\xEDa!")},className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:()=>{q()},className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-red-500 hover:bg-red-400 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,o.length!==0?e.createElement(Za,{categoriesList:o,setSelectedIds:g,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay categor\xEDas en la base de datos aun."),e.createElement("p",{onClick:()=>{d(!0),f("save")},className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Categor\xEDa +")))):e.createElement(de,{className:"my-10"}),e.createElement(Ka,{action:E,show:x,setCategoryName:v,category:m,setShowModal:d,saveCategory:S,modifyCategory:$}))},at=W`
  query getOrganizations {
    organizations {
      id
      name
      place
      categories {
        id
        name
      }
      contacts {
        id
        name
      }
    }
  }
`,gt=W`
  query organizationByID($id: ID!) {
    organization(id: $id) {
      id
      name
      purpose
      additional_note
      phone
      email
      place
      resources
      relationship
      categories {
        id
        name
      }
      contacts {
        id
        name
      }
    }
  }
`,Xa=W`
  mutation createOrganization(
    $name: String
    $purpose: String
    $additional_note: String
    $phone: String
    $email: String
    $place: String
    $resources: String
    $relationship: String
    $categories: [ID]
    $contacts: [ID]
  ) {
    createOrganization(
      input: {
        name: $name
        purpose: $purpose
        additional_note: $additional_note
        phone: $phone
        email: $email
        place: $place
        resources: $resources
        relationship: $relationship
        categories: { connect: $categories }
        contacts: { connect: $contacts }
      }
    ) {
      id
      name
    }
  }
`,Ja=W`
  mutation deleteOrganization($id: ID!) {
    deleteOrganization(id: $id) {
      name
    }
  }
`,en=W`
  mutation deleteOrganizations($ids: [Int]) {
    deleteOrganizations(ids: $ids) {
      id
    }
  }
`,tn=W`
  mutation disconnectForeignKeys($id: ID!, $categories: [ID], $contacts: [ID]) {
    updateOrganization(
      input: {
        id: $id
        categories: { disconnect: $categories }
        contacts: { disconnect: $contacts }
      }
    ) {
      id
    }
  }
`,an=W`
  mutation updateOrganization(
    $id: ID!
    $name: String
    $purpose: String
    $additional_note: String
    $phone: String
    $email: String
    $place: String
    $resources: String
    $relationship: String
    $categories: [ID]
    $contacts: [ID]
  ) {
    updateOrganization(
      input: {
        id: $id
        name: $name
        purpose: $purpose
        additional_note: $additional_note
        phone: $phone
        email: $email
        place: $place
        resources: $resources
        relationship: $relationship
        categories: { connect: $categories }
        contacts: { connect: $contacts }
      }
    ) {
      id
    }
  }
`,nn=({organizationList:s,setSelectedIds:o,categoryFilter:u,contactFilter:i,placeFilter:g})=>{let m="";const E=[Ce(ce({title:"Nombre",dataIndex:"name"},(a=>({filterDropdown:({setSelectedKeys:n,selectedKeys:l,confirm:S,clearFilters:$})=>e.createElement("div",{style:{padding:8}},e.createElement(G,{ref:D=>{m=D},placeholder:"Busqueda",value:l[0],onChange:D=>n(D.target.value?[D.target.value]:[]),onPressEnter:()=>y(l,S,a),style:{marginBottom:8,display:"block"}}),e.createElement(Ke,null,e.createElement(xe,{type:"primary",onClick:()=>y(l,S,a),icon:e.createElement(Fe,null),size:"small",style:{width:90}},"Buscar"),e.createElement(xe,{onClick:()=>k($),size:"small",style:{width:90}},"Limpiar"))),filterIcon:n=>e.createElement(Fe,{style:{color:n?"#1890ff":void 0}}),onFilter:(n,l)=>l[a]?l[a].toString().toLowerCase().includes(n.toLowerCase()):"",onFilterDropdownVisibleChange:n=>{n&&setTimeout(()=>m.select(),100)},render:n=>n}))("name")),{defaultSortOrder:"descend",sorter:(a,n)=>a.name.length-n.name.length}),{title:"Representantes",dataIndex:"contacts",filters:i,onFilter:(a,n)=>n.contacts.includes(a),width:"25%",filterSearch:!0,render:a=>e.createElement(e.Fragment,null,a!==void 0&&a.length!==0&&a.map(n=>{let l="green";return e.createElement(He,{color:l,key:n},n.toUpperCase())}))},{title:"Lugar",dataIndex:"place",filters:g,onFilter:(a,n)=>n.place.includes(a),width:"25%",filterSearch:!0},{title:"Categor\xEDas",dataIndex:"categories",filters:u,onFilter:(a,n)=>n.categories.includes(a),width:"25%",filterSearch:!0,render:a=>e.createElement(e.Fragment,null,a!==void 0&&a.length!==0&&a.map(n=>{let l="geekblue";return e.createElement(He,{color:l,key:n},n.toUpperCase())}))}],[f,x]=t.exports.useState([]),d={onChange:(a,n)=>{if(n.length!==0){let l=[];n.forEach(S=>{const{key:$}=S;l.push(parseInt($))}),o(l)}},getCheckboxProps:a=>({disabled:a.name==="Disabled User",name:a.name})},h="checkbox",b={searchText:"",searchedColumn:""},[N,w]=t.exports.useState(b),y=(a,n,l)=>{n(),w({searchText:a[0],searchedColumn:l})},k=a=>{a(),w({searchText:""})};function r(a,n,l,S){}return t.exports.useEffect(()=>(s!==void 0&&x(s),()=>{x([])}),[s]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Ze,{rowSelection:ce({type:h},d),columns:E,dataSource:f,onChange:r}))},rn=({history:s})=>{const{data:o}=Me(at),[u]=Z(Ja),[i]=Z(en),[g,{data:m}]=me(Ve),[v,{data:E}]=me(Re),[f,x]=t.exports.useState([]),[d,h]=t.exports.useState([]),[b,N]=t.exports.useState([]),[w,y]=t.exports.useState([]),[k,r]=t.exports.useState([]),[a,n]=t.exports.useState([]),l=le(),{loading:S}=ae(p=>p.ui),$=p=>{let A=[];return p.filter((F,U)=>p.indexOf(F)===U).forEach(F=>{const U={text:F,value:F};U.text!==""&&A.push(U)}),A},D=p=>{if(x([]),p!==void 0&&p.length!==0){const A=p.map(F=>F.place),P=$(A);n(P),p.forEach(F=>{const{categories:U}=F,{contacts:Q}=F,z={key:F.id,name:F.name,place:F.place,contacts:Q.length!==0?Q.map(j=>j.name):"",categories:U.length!==0?U.map(j=>j.name):""};x(j=>[...j,z])})}},K=async()=>{if(l(te()),ne.destroy(),b.length===1)try{await u({variables:{id:b[0]}}).then(p=>{M("success","Informacion","Organizaci\xF3n eliminada satisfactoriamente!"),q()})}catch(p){console.log(p.name),M("error","Error!",`Ocurrio una error: ${p}`),l(B())}else if(b.length>1)try{await i({variables:{ids:b}}).then(p=>{M("success","Informacion","Organizaciones eliminadas satisfactoriamente!"),q()})}catch(p){console.log(p.name),M("error","Error!",`Ocurrio un error: ${p.name}`)}else M("warning","Atencion!","Debe seleccionar al menos una organizacion!")},q=()=>{N(""),x([]),h([]),_()},C=()=>{if(b.length!==0){const p=`open${Date.now()}`,A=e.createElement(xe,{type:"danger",onClick:K,style:{borderRadius:"100px"}},"Confirmar");ne.open({message:"Atencion!",description:"Esta seguro que desea eliminar la organizacion ?",btn:A,key:p})}else M("warning","Atencion!","Debe seleccionar al menos una organizacion!")},c=()=>{s.push("/dashboard/organizations/form")},_=async()=>{await we.refetchQueries({include:[at]}),l(B())},L=()=>{if(b.length!==0){const p=b[0];p!==void 0&&p!==""&&s.replace(`/dashboard/organizations/view/${p}`)}else M("warning","Atencion!","Debe seleccionar al menos una organizacion!")},V=()=>{if(b.length!==0){const p=b[0];p!==void 0&&p!==""&&s.replace(`/dashboard/organizations/form/${p}`)}else M("warning","Atencion!","Debe seleccionar al menos una organizacion!")},M=(p,A,P)=>{ne[p]({message:A,description:P})};return t.exports.useEffect(()=>{if(o!==void 0){const{organizations:p}=o;D(p)}},[o]),t.exports.useEffect(()=>{if(m!==void 0){const{categories:p}=m;let A=[];p!==void 0&&p.length!==0&&(p.forEach(P=>{const F={text:P.name,value:P.name};A.push(F)}),y(A))}},[m]),t.exports.useEffect(()=>{if(E!==void 0){const{contacts:p}=E;if(p!==void 0&&p.length!==0){const A=p.map(F=>F.name),P=$(A);r(P)}}},[E]),t.exports.useEffect(()=>{f.length!==0&&h(f)},[f]),t.exports.useEffect(()=>{l(te()),g(),v(),_()},[]),e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},S===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1"},e.createElement("p",{className:"mx-2 "},"Lista de Organizaciones"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}))),e.createElement("hr",{className:"w-1/3"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:c,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:V,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:L,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-indigo-400 bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:C,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-red-400 bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,d.length!==0?e.createElement(nn,{organizationList:d,setSelectedIds:N,categoryFilter:w,contactFilter:k,placeFilter:a,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay organizacions en la base de datos aun."),e.createElement("p",{onClick:c,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Organizaci\xF3n +")))):e.createElement(de,{className:"my-10"}))},nt=({setContacts:s,selectedContacts:o})=>{const[u,{data:i}]=me(Re);let g=i!==void 0?i.contacts:[];const[m,v]=t.exports.useState([]),E=d=>{v(d)},f=g.filter(d=>!m.includes(d)),x=d=>{let h=[];return d.forEach(b=>{g.forEach(N=>{N.name===b&&h.push(N.id)})}),h};return t.exports.useEffect(()=>{const d=x(m);s(d)},[m]),t.exports.useEffect(()=>{u()},[]),t.exports.useEffect(()=>{const d=o.map(h=>h.name);v(d)},[o]),t.exports.useEffect(()=>{i!==void 0&&(g=i.contacts)},[i]),e.createElement("div",null,e.createElement(We,{mode:"multiple",placeholder:"Seleccione los contactos",value:m,onChange:E,style:{width:"350px"}},f.map(d=>e.createElement(We.Option,{key:d.id,value:d.name},d.name))))},{TextArea:rt}=G,$t=({history:s})=>{const{id:o}=Pe(),[u]=Z(Xa),[i]=Z(tn),[g]=Z(an),[m,{data:v}]=me(gt),E=le(),{loading:f}=ae(T=>T.ui),[x,d]=t.exports.useState(""),[h,b]=t.exports.useState(""),[N,w]=t.exports.useState(""),[y,k]=t.exports.useState(""),[r,a]=t.exports.useState(""),[n,l]=t.exports.useState(""),[S,$]=t.exports.useState(""),[D,K]=t.exports.useState(""),[q,C]=t.exports.useState(""),[c,_]=t.exports.useState([]),[L,V]=t.exports.useState([]),[M,p]=t.exports.useState([]),[A,P]=t.exports.useState([]),[F,U]=t.exports.useState([]),[Q,z]=t.exports.useState([]),j=({target:T})=>{b(T.value)},R=({target:T})=>{k(T.value)},oe=({target:T})=>{a(T.value)},ue=({target:T})=>{C(T.value)},ie=({target:T})=>{l(T.value)},se=({target:T})=>{K(T.value)},Te=({target:T})=>{$(T.value)},Ee=({target:T})=>{w(T.value)},he=async()=>{Ae()&&(E(te()),x==="save"?await ye():(await De(),await Oe()))},De=async()=>{await we.clearStore({include:[gt]})},Ae=()=>{let T=!0;return ze.isEmpty(h)&&(fe("warning","Atencion","Llene el nombre de la organizacion!"),T=!1),!ze.isEmpty(S)&&!ze.isEmail(S)&&(fe("warning","Atencion","Entre un correo valido!"),$(""),T=!1),T},fe=(T,H,X)=>{ne[T]({message:H,description:X})},$e=()=>{s.push("/dashboard/organizations")},ye=async()=>{try{await u({variables:{name:h,purpose:y,additional_note:N,phone:n,email:S,place:D,relationship:r,resources:q,categories:L,contacts:A}}).then(T=>{if(T.data.createOrganization!==void 0&&T.data.createOrganization!==null){const{name:H}=T.data.createOrganization;fe("success","Organizacion Guardada",`La organizacion ${H} se guardo de forma satisfactoria!`),E(B()),s.push("/dashboard/organizations")}})}catch(T){E(B()),console.log(T.message),fe("error","Error",`Ocurrio algun error: ${T.message} !`)}},Oe=async()=>{const T=o,H=L,X=A;if(T!==void 0)try{H.length===0&&X.length===0?await i({variables:{id:T,categories:[],contacts:[]}}).then(Y=>{}):H.length!==0&&X.length===0?await i({variables:{id:T,categories:F,contacts:[]}}).then(Y=>{}):H.length===0&&X.length!==0?await i({variables:{id:T,categories:[],contacts:Q}}).then(Y=>{}):await i({variables:{id:T,categories:F,contacts:Q}}).then(Y=>{}),await g({variables:{id:T,name:h,purpose:y,additional_note:N,phone:n,email:S,place:D,relationship:r,resources:q,categories:H,contacts:X}}).then(Y=>{U([]),z([]),fe("success","Organizacion Modificada","La organizacion se ha modificado de forma satisfactoria!"),E(B()),s.push("/dashboard/organizations")})}catch(Y){console.table(Y),E(B()),fe("error","Error",`Ocurrio algun error: ${Y.message} !`)}};return t.exports.useEffect(()=>{o!==void 0?(E(te()),d("update")):d("save")},[]),t.exports.useEffect(async()=>{x==="update"&&m({variables:{id:o}})},[x]),t.exports.useEffect(()=>{if(v!==void 0)try{const{name:T,purpose:H,additional_note:X,place:Y,phone:J,email:pe,relationship:O,resources:Ne,categories:ve,contacts:Se}=v.organization;b(T),k(H),w(X),a(O),C(Ne),l(J),$(pe),K(Y),_(ve),p(Se),U(ve.map(ge=>ge.id)),z(Se.map(ge=>ge.id)),E(B())}catch(T){E(B()),console.log(T.message)}},[v]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},f?e.createElement("div",null,e.createElement(de,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},x==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Guardar Organizacion "),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${h}`))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Modificar Organizacion"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${h}`)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Nombre ",e.createElement("span",{className:"text-red-600 text-md mx-1"},"*"))),e.createElement(G,{placeholder:"Nombre",value:h,onChange:j,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Representantes"),e.createElement(nt,{selectedContacts:M,setContacts:P})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Nota Adicional")),e.createElement(rt,{value:N,onChange:Ee,placeholder:"Nota Adicional",style:{width:"350px"},autoSize:!0}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Prop\xF3sito")),e.createElement(rt,{value:y,onChange:R,placeholder:"Prop\xF3sito",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}})),e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Tel\xE9fono")),e.createElement(G,{placeholder:"Tel\xE9fono",value:n,onChange:ie,style:{width:"350px"}})),e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Correo")),e.createElement(G,{placeholder:"Correo",value:S,onChange:Te,style:{width:"350px"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"my-10"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Lugar")),e.createElement(G,{placeholder:"Lugar",value:D,onChange:se,style:{width:"350px"}})),e.createElement("div",{className:"my-10"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Recursos")),e.createElement(rt,{value:q,onChange:ue,placeholder:"Recursos",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}})),e.createElement("div",{className:"my-10"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Relaci\xF3n con Apoyo")),e.createElement(rt,{value:r,onChange:oe,placeholder:"Relaci\xF3n con Apoyo",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"mt-auto mb-10"},e.createElement("div",{className:"flex"},e.createElement("label",null,"Categorias")),e.createElement(pt,{selectedCategories:c,setCategories:V}))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:he,className:"flex w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},x==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:$e,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},sn=({history:s})=>{const{id:o}=Pe(),[u,{data:i}]=me(gt),[g,m]=t.exports.useState(""),[v,E]=t.exports.useState(""),[f,x]=t.exports.useState(""),[d,h]=t.exports.useState(""),[b,N]=t.exports.useState(""),[w,y]=t.exports.useState(""),[k,r]=t.exports.useState(""),[a,n]=t.exports.useState(""),[l,S]=t.exports.useState([]),[$,D]=t.exports.useState([]),K=le(),{loading:q}=ae(c=>c.ui);t.exports.useEffect(()=>{u({variables:{id:o}}),K(te())},[]),t.exports.useEffect(()=>{if(!i)return e.createElement(Ue,{to:"/dashboard/organizations"});const c=i.organization;if(c!==null){const{name:_,purpose:L,additional_note:V,phone:M,email:p,place:A,relationship:P,resources:F,categories:U,contacts:Q}=c;m(_),E(L),x(V),N(P),h(F),y(M),n(A),r(p);const z=U.length!==0?U.map(R=>R.name):[];S(z);const j=Q.length!==0?Q.map(R=>R.name):[];D(j),K(B())}},[i]);const C=()=>{s.push("/dashboard/organizations")};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},q?e.createElement("div",{className:"flex content-center"},e.createElement(de,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-2xl mx-3 "},"Organizaci\xF3n"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${g}`))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Nombre"),e.createElement("p",{className:"text-lg font-semibold text-blue-700 text-center"},g)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"text-xl text-center"},"Representantes"),e.createElement("div",{className:"text-md font-semibold text-center"},$.map((c,_)=>e.createElement("p",{key:_,className:"text-blue-700 inline-block mx-2"},`${c}`)))))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Nota Adicional"),e.createElement("p",{className:"text-md text-center font-semibold "},f))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Prop\xF3sito"),e.createElement("p",{className:"text-md text-center font-semibold "},v)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Tel\xE9fono"),e.createElement("p",{className:"text-md font-semibold text-blue-700  text-center"},w)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Correo"),e.createElement("p",{className:"text-md font-semibold text-blue-700 text-center"},k))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Lugar"),e.createElement("p",{className:"text-md font-semibold text-center"},a)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Recursos"),e.createElement("p",{className:"text-md font-semibold text-center"},d)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Relaci\xF3n con Apoyo"),e.createElement("p",{className:"text-md font-semibold text-center"},b))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Categor\xEDas "),e.createElement("div",{className:"text-md font-semibold text-center"},l.map((c,_)=>e.createElement("p",{key:_,className:"text-blue-700 inline-block mx-2"},`#${c}`))))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:C,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")))))))};const st=W`
  query getForeignMissions {
    foreignMissions {
      id
      name
      place
      representatives {
        id
        name
      }
      missionaries {
        id
        name
      }
      categories {
        id
        name
      }
    }
  }
`,xt=W`
  query getForeignMissionById($id: ID!) {
    foreignMission(id: $id) {
      id
      name
      place
      additional_note
      purpose
      ministerial_focus
      capacitation_resources
      resources
      global_opportunities
      representatives {
        id
        name
      }
      missionaries {
        id
        name
      }
      categories {
        id
        name
      }
    }
  }
`,on=({history:s})=>{const[o,u]=t.exports.useState("0"),[i,g]=t.exports.useState("0"),[m,v]=t.exports.useState("0"),{data:E}=Me(Re),{data:f}=Me(at),{data:x}=Me(st),d=async()=>{await we.refetchQueries({include:[Re,at,st]})};return t.exports.useEffect(()=>{if(E!=null){const{contacts:h}=E;h!=null&&u(h.length)}if(f!=null){const{organizations:h}=f;h!==null&&h.length!==0&&g(h.length)}if(x!=null){const{foreignMissions:h}=x;h!=null&&v(h.length)}},[E,f,x]),t.exports.useEffect(()=>{d()},[]),e.createElement("div",null,e.createElement("div",{className:"mt-0"},e.createElement("div",{className:"flex flex-wrap -mx-6 "},e.createElement("div",{className:"w-full px-6 sm:w-1/2 xl:w-1/3"},e.createElement("div",{className:"border-2 cursor-pointer border-gray-50 flex items-center px-5 py-6 shadow-lg rounded-lg bg-white",onClick:()=>{s.push("/dashboard/contacts")}},e.createElement("div",{className:"p-3 rounded-full bg-blue-700 bg-opacity-75",onClick:()=>{s.push("/dashboard/contacts")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),e.createElement("div",{className:"mx-5"},e.createElement("h4",{className:"text-2xl font-semibold "},o),e.createElement("p",{className:"font-semibold cursor-pointer hover:text-blue-700",onClick:()=>{s.push("/dashboard/contacts")}},"Contactos")))),e.createElement("div",{className:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 xl:mt-0"},e.createElement("div",{className:"border-2 cursor-pointer border-gray-50 flex items-center px-5 py-6 shadow-lg rounded-lg bg-white",onClick:()=>{s.push("/dashboard/organizations")}},e.createElement("div",{className:"p-3 rounded-full bg-green-700 bg-opacity-75",onClick:()=>{s.push("/dashboard/organizations")}},e.createElement("svg",{className:"h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 23 23",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}))),e.createElement("div",{className:"mx-5"},e.createElement("h4",{className:"text-2xl font-semibold "},i),e.createElement("p",{className:"font-semibold cursor-pointer hover:text-blue-700",onClick:()=>{s.push("/dashboard/organizations")}},"Organizaciones"," ")))),e.createElement("div",{className:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 xl:mt-0 "},e.createElement("div",{className:"border-2 cursor-pointer border-gray-50 flex items-center px-5 py-6 shadow-lg rounded-lg bg-white",onClick:()=>{s.push("/dashboard/missions")}},e.createElement("div",{className:"p-3 rounded-full bg-indigo-700 bg-opacity-75 ",onClick:()=>{s.push("/dashboard/missions")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),e.createElement("div",{className:"mx-5 "},e.createElement("h4",{className:"text-2xl font-semibold "},m),e.createElement("p",{className:"font-semibold cursor-pointer hover:text-blue-700",onClick:()=>{s.push("/dashboard/missions")}},"Misiones Transculturales"," "))))),e.createElement("br",null),e.createElement("br",null)))},ln=({history:s,contact:o})=>(t.exports.useEffect(()=>{},[]),e.createElement("div",{className:"animate__animated animate__fadeIn inline-block mx-3 border-2 border-gray-50 max-w-sm p-6 m-auto my-5 bg-white rounded-md shadow-lg dark:bg-gray-800"},e.createElement("h1",{className:"text-2xl text-center cursor-pointer hover:text-blue-700",onClick:()=>{if(o.id!==void 0){const{id:u}=o;s.push(`/dashboard/contacts/view/${u}`)}}},o!==void 0&&o.name),e.createElement("div",{className:"text-md font-semibold text-center"},(o!==void 0&&o.categories.length)!==0&&o.categories.map((u,i)=>e.createElement("p",{key:i,className:"text-blue-700 inline-block mx-2"},`${u}`))))),cn=({history:s})=>{const o=le(),{loading:u}=ae(l=>l.ui),{data:i}=Me(Ve),[g,{data:m}]=me(Da);let v=i!==void 0?i.categories:[];const[E,f]=t.exports.useState([]),[x,d]=t.exports.useState([]),[h,b]=t.exports.useState([]),[N,w]=t.exports.useState(!1),y=l=>{f(l)},k=v.filter(l=>!E.includes(l)),r=l=>{let S=[];return l.forEach($=>{v.forEach(D=>{D.name===$&&S.push(D.id)})}),S},a=()=>{o(te()),b([]),g({variables:{categories:x}})},n=async()=>{await we.refetchQueries({include:[Ve]}),o(B())};return t.exports.useEffect(()=>{if(m!==void 0){const l=m.contactByCategory,S=l.length!==0?l:[];S.length!==0?S.forEach($=>{const{id:D,name:K,categories:q}=$;let C=[];q.length!==0&&q.forEach(_=>{C.push(`#${_.name}`)});const c={id:D,name:K,categories:C};b(_=>[..._,c])}):w(!0),o(B())}o(B())},[m]),t.exports.useEffect(()=>{const l=r(E);d(l),b([]),w(!1)},[E]),t.exports.useEffect(()=>{n()},[]),t.exports.useEffect(()=>{i!==void 0&&(v=i.categories)},[i]),e.createElement("div",{className:" border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},e.createElement("div",{className:"text-center font-semibold text-2xl my-4"},"B\xFAsquedas de Contactos por Categor\xEDas"),e.createElement("div",{className:" flex content-center my-8"},e.createElement("div",{className:"flex mx-auto"},e.createElement(We,{mode:"multiple",placeholder:"Seleccione las Categorias",value:E,onChange:y,style:{width:"350px",borderRadius:"10px"},dropdownStyle:{borderRadius:"5px"}},k.map(l=>e.createElement(We.Option,{key:l.id,value:l.name},l.name))),e.createElement("button",{onClick:a,className:"flex w-16 mx-auto h-8 px-1 py-1 text-center hover:bg-blue-400 rounded-md border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 content-center mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))))),e.createElement("br",null),u?e.createElement(de,{className:"my-5"}):e.createElement("div",{className:"card-columns"},h.length!==0&&h.map(l=>e.createElement(ln,{key:l.id,contact:l,history:s})),N===!0?e.createElement("h1",{className:"text-center text-2xl"},"No se encontraron resultados"):h.length!==0&&e.createElement("div",{className:"flex content-center "},e.createElement("div",{className:"flex mx-auto cursor-default"},e.createElement("h1",{className:" text-lg my-7 mx-1 text-center"},"Se encontraron"),e.createElement("h1",{className:"text-blue-700 text-lg my-7 mx-1 text-center"},`${h.length}`),e.createElement("h1",{className:"text-lg my-7 mx-1 text-center"},"contactos")))),e.createElement("br",null),e.createElement("br",null))},It=W`
  query getTrackings {
    trackings {
      id
      date
      tracking_type
      observation
      pending_task
      ministerial_activity
      contact {
        id
        name
      }
    }
  }
`,ht=W`
  query getTrackingById($id: ID!) {
    tracking(id: $id) {
      date
      tracking_type
      observation
      pending_task
      ministerial_activity
      contact {
        id
        name
      }
    }
  }
`,mn=W`
  mutation createTracking(
    $date: Date
    $tracking_type: String
    $observation: String
    $pending_task: String
    $ministerial_activity: String
    $contact: ID
  ) {
    createTracking(
      input: {
        tracking_type: $tracking_type
        date: $date
        observation: $observation
        pending_task: $pending_task
        ministerial_activity: $ministerial_activity
        contact: { connect: $contact }
      }
    ) {
      id
    }
  }
`,dn=W`
  mutation deleteTracking($id: ID!) {
    deleteTracking(id: $id) {
      id
    }
  }
`,un=W`
  mutation deleteTrackings($ids: [Int]) {
    deleteTrackings(ids: $ids) {
      id
    }
  }
`,pn=W`
  mutation disconnectForeignKeys($id: ID!, $contact: ID) {
    updateTracking(input: { id: $id, contact: { connect: $contact } }) {
      id
    }
  }
`,gn=W`
  mutation updateTracking(
    $id: ID!
    $date: Date
    $tracking_type: String
    $observation: String
    $pending_task: String
    $ministerial_activity: String
    $contact: ID
  ) {
    updateTracking(
      input: {
        id: $id
        tracking_type: $tracking_type
        date: $date
        observation: $observation
        pending_task: $pending_task
        ministerial_activity: $ministerial_activity
        contact: { connect: $contact }
      }
    ) {
      id
    }
  }
`,xn=({trackingList:s,setSelectedIds:o,contactFilter:u,typeFilter:i})=>{let g="";const v=[Ce(ce({title:"Fecha",dataIndex:"date"},(r=>({filterDropdown:({setSelectedKeys:a,selectedKeys:n,confirm:l,clearFilters:S})=>e.createElement("div",{style:{padding:8}},e.createElement(G,{ref:$=>{g=$},placeholder:"Busqueda",value:n[0],onChange:$=>a($.target.value?[$.target.value]:[]),onPressEnter:()=>w(n,l,r),style:{marginBottom:8,display:"block"}}),e.createElement(Ke,null,e.createElement(xe,{type:"primary",onClick:()=>w(n,l,r),icon:e.createElement(Fe,null),size:"small",style:{width:90}},"Buscar"),e.createElement(xe,{onClick:()=>y(S),size:"small",style:{width:90}},"Limpiar"))),filterIcon:a=>e.createElement(Fe,{style:{color:a?"#1890ff":void 0}}),onFilter:(a,n)=>n[r]?n[r].toString().toLowerCase().includes(a.toLowerCase()):"",onFilterDropdownVisibleChange:a=>{a&&setTimeout(()=>g.select(),100)},render:a=>a}))("date")),{width:"30%"}),{title:"Tipo de Seguimiento",dataIndex:"tracking_type",filters:i,onFilter:(r,a)=>a.tracking_type.includes(r),width:"30%",filterSearch:!0},{title:"Contacto",dataIndex:"contact",filters:u,onFilter:(r,a)=>a.contact.includes(r),width:"30%",filterSearch:!0,render:r=>e.createElement(e.Fragment,null,r!==void 0&&r!==""&&e.createElement(He,{color:"green",key:r},r.toUpperCase()))}],[E,f]=t.exports.useState([]),x={onChange:(r,a)=>{if(a.length!==0){let n=[];a.forEach(l=>{const{key:S}=l;console.log(S),n.push(parseInt(S))}),o(n)}},getCheckboxProps:r=>({disabled:r.name==="Disabled User",name:r.name})},d="checkbox",h={searchText:"",searchedColumn:""},[b,N]=t.exports.useState(h),w=(r,a,n)=>{a(),N({searchText:r[0],searchedColumn:n})},y=r=>{r(),N({searchText:""})};function k(r,a,n,l){}return t.exports.useEffect(()=>(s!==void 0&&(f(s),console.table(E)),()=>{f([])}),[s]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Ze,{rowSelection:ce({type:d},x),columns:v,dataSource:E,onChange:k}))},hn=({history:s})=>{const{data:o}=Me(It),[u]=Z(dn),[i]=Z(un),[g,{data:m}]=me(Re),[v,E]=t.exports.useState([]),[f,x]=t.exports.useState([]),[d,h]=t.exports.useState([]),[b,N]=t.exports.useState([]),[w,y]=t.exports.useState([]),k=le(),{loading:r}=ae(c=>c.ui),a=c=>{E([]),c!==void 0&&c.length!==0&&c.forEach(_=>{const{contact:L}=_,V={key:_.id,date:_.date,tracking_type:_.tracking_type,contact:L!==null?L.name:""};E(M=>[...M,V])})},n=async()=>{if(k(te()),ne.destroy(),d.length===1)try{await u({variables:{id:d[0]}}).then(c=>{C("success","Informacion","Seguimiento eliminado satisfactoriamente!"),l()})}catch(c){console.log(c.name),C("error","Error!",`Ocurrio un error: ${c}`),k(B())}else if(d.length>1)try{await i({variables:{ids:d}}).then(c=>{C("success","Informacion","Seguimientos eliminados satisfactoriamente!"),l()})}catch(c){console.log(c.name),C("error","Error!",`Ocurrio un error: ${c.name}`)}else C("warning","Atencion!","Debe seleccionar al menos un seguimiento!")},l=()=>{h([]),E([]),x([]),D()},S=()=>{if(d.length!==0){const c=`open${Date.now()}`,_=e.createElement(xe,{type:"danger",onClick:n,style:{borderRadius:"100px"}},"Confirmar");ne.open({message:"Atencion!",description:"Esta seguro que desea eliminar la seguimiento ?",btn:_,key:c})}else C("warning","Atencion!","Debe seleccionar al menos un seguimiento!")},$=()=>{s.push("/dashboard/trackings/form")},D=async()=>{await we.refetchQueries({include:[It]}),k(B())},K=()=>{if(d.length!==0){const c=d[0];c!==void 0&&c!==""&&s.replace(`/dashboard/trackings/view/${c}`)}else C("warning","Atencion!","Debe seleccionar al menos un seguimiento!")},q=()=>{if(d.length!==0){const c=d[0];c!==void 0&&c!==""&&s.replace(`/dashboard/trackings/form/${c}`)}else C("warning","Atencion!","Debe seleccionar al menos un seguimiento!")},C=(c,_,L)=>{ne[c]({message:_,description:L})};return t.exports.useEffect(()=>{if(o!==void 0){const{trackings:c}=o;a(c)}},[o]),t.exports.useEffect(()=>{if(m!==void 0){const{contacts:c}=m;if(c!==void 0&&c.length!==0){let _=[];c.forEach(L=>{const V={text:L.name,value:L.name};_.push(V)}),N(_)}}},[m]),t.exports.useEffect(()=>{if(v.length!==0){x(v);const c=v.map(V=>V.tracking_type),_=c.filter((V,M)=>c.indexOf(V)===M);let L=[];_.forEach(V=>{const M={text:V,value:V};M.text!==""&&L.push(M)}),y(L)}},[v]),t.exports.useEffect(()=>{k(te()),g(),D()},[]),e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},r===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1 mt-5"},e.createElement("p",{className:"mx-2 "},"Lista de Seguimientos a los Contactos"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"}))),e.createElement("hr",{className:"w-1/3"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:$,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:q,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:K,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-indigo-400 bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:S,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-red-400 bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,f.length!==0?e.createElement(xn,{trackingList:f,setSelectedIds:h,contactFilter:b,typeFilter:w,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay seguimientos en la base de datos aun."),e.createElement("p",{onClick:$,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Seguimiento +")))):e.createElement(de,{className:"my-10"}))},{TextArea:Et}=G,Lt=({history:s})=>{const{id:o}=Pe(),[u]=Z(mn);Z(pn);const[i]=Z(gn),[g,{data:m}]=me(ht),v=le(),{loading:E}=ae(z=>z.ui),[f,x]=t.exports.useState(""),[d,h]=t.exports.useState(""),[b,N]=t.exports.useState(""),[w,y]=t.exports.useState(""),[k,r]=t.exports.useState(""),[a,n]=t.exports.useState(""),[l,S]=t.exports.useState([]),[$,D]=t.exports.useState([]),[K,q]=t.exports.useState([]),C=(z,j)=>{console.log(z,j),h(j)},c=({target:z})=>{N(z.value)},_=({target:z})=>{y(z.value)},L=({target:z})=>{r(z.value)},V=({target:z})=>{n(z.value)},M=async()=>{A()&&(v(te()),f==="save"?await U():(await p(),await Q()))},p=async()=>{await we.clearStore({include:[ht]})},A=()=>{let z=!0;return ze.isEmpty(d)&&(P("warning","Atencion","Llene la fecha!"),z=!1),$.length===0&&l.length===0&&(P("warning","Atencion","Llene el contacto!"),z=!1),z},P=(z,j,R)=>{ne[z]({message:j,description:R})},F=()=>{s.push("/dashboard/trackings")},U=async()=>{try{await u({variables:{date:d,tracking_type:b,observation:w,pending_task:k,ministerial_activity:a,contact:$.length!==0?$[0]:""}}).then(z=>{P("success","Seguimiento Guardado","El seguimiento se guardo de forma satisfactoria!"),v(B()),s.push("/dashboard/trackings")})}catch(z){v(B()),console.log(z.message),P("error","Error",`Ocurrio algun error: ${z.message} !`)}},Q=async()=>{const z=o,j=$;if(console.log(j),z!==void 0)try{if(j.length===0)await i({variables:{id:z,date:d,tracking_type:b,observation:w,pending_task:k,ministerial_activity:a}}).then(R=>{q([]),P("success","Seguimiento Modificado","El seguimiento se ha modificado de forma satisfactoria!"),v(B()),s.push("/dashboard/trackings")});else{const R=j[0];await i({variables:{id:z,date:d,tracking_type:b,observation:w,pending_task:k,ministerial_activity:a,contact:R}}).then(oe=>{q([]),P("success","Seguimiento Modificado","El seguimiento se ha modificado de forma satisfactoria!"),v(B()),s.push("/dashboard/trackings")})}}catch(R){console.table(R),v(B()),P("error","Error",`Ocurrio algun error: ${R.message} !`)}};return t.exports.useEffect(()=>{o!==void 0?(v(te()),x("update")):x("save")},[]),t.exports.useEffect(async()=>{f==="update"&&g({variables:{id:o}})},[f]),t.exports.useEffect(()=>{if(m!==void 0){console.log("trackingBy id"),console.log(m.tracking);try{const{date:z,tracking_type:j,observation:R,pending_task:oe,ministerial_activity:ue,contact:ie}=m.tracking;h(z),N(j),y(R),r(oe),n(ue),ie!=null&&(S(se=>[...se,ie]),q(se=>[...se,ie.id])),v(B())}catch(z){v(B()),console.log(z.message)}}},[m]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},E?e.createElement("div",null,e.createElement(de,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},f==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Guardar Seguimiento "))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Modificar Seguimiento")))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Fecha ",e.createElement("span",{className:"text-red-600 text-md mx-1"},"*"))),e.createElement(sa,{value:d!==""&&oa(d),onChange:C})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Contacto",e.createElement("span",{className:"text-red-600 text-md mx-1"},"*")),e.createElement(nt,{selectedContacts:l,setContacts:D})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Tipo de Seguimiento")),e.createElement(G,{value:b,onChange:c,placeholder:"Tipo de Seguimiento",style:{width:"350px"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex s"},e.createElement("label",null,"Observaci\xF3n")),e.createElement(Et,{value:w,onChange:_,placeholder:"Observaci\xF3n",style:{width:"350px"},autoSize:!0})),e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex"},e.createElement("label",null,"Tarea Pendiente")),e.createElement(Et,{value:k,onChange:L,placeholder:"Tarea Pendiente",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}})),e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex"},e.createElement("label",null,"Actividad Ministerial")),e.createElement(Et,{value:a,onChange:V,placeholder:"Actividad Ministerial",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}}))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:M,className:"flex w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},f==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:F,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},En=({history:s})=>{const{id:o}=Pe(),[u,{data:i}]=me(ht),[g,m]=t.exports.useState(""),[v,E]=t.exports.useState(""),[f,x]=t.exports.useState(""),[d,h]=t.exports.useState(""),[b,N]=t.exports.useState(""),[w,y]=t.exports.useState([]),k=le(),{loading:r}=ae(n=>n.ui);t.exports.useEffect(()=>{u({variables:{id:o}}),k(te())},[]),t.exports.useEffect(()=>{if(!i)return e.createElement(Ue,{to:"/dashboard/trackings"});const n=i.tracking;if(n!==null){const{date:l,tracking_type:S,observation:$,pending_task:D,ministerial_activity:K,contact:q}=n;m(l),E(S),x($),h(D),N(K);const C=q!==null?q.name:"";y(C),k(B())}},[i]);const a=()=>{s.push("/dashboard/trackings")};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},r?e.createElement("div",{className:"flex content-center"},e.createElement(de,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-2xl mx-3 "},"Seguimiento al Contacto "),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${w}`))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Fecha"),e.createElement("p",{className:"text-lg font-semibold text-blue-700 text-center"},g)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Contacto "),e.createElement("div",{className:"text-md font-semibold text-center"},e.createElement("p",{className:"text-blue-700 inline-block mx-2"},`${w}`))))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Tipo de Seguimiento"),e.createElement("p",{className:"text-md font-semibold  text-center"},v))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Observaci\xF3n"),e.createElement("p",{className:"text-md text-center font-semibold "},f)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Tarea Pendiente"),e.createElement("p",{className:"text-md font-semibold text-center"},d)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Actividad Ministerial"),e.createElement("p",{className:"text-md font-semibold text-center"},b))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:a,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")))))))},fn=W`
  mutation createForeignMission(
    $name: String!
    $place: String
    $additional_note: String
    $purpose: String
    $ministerial_focus: String
    $capacitation_resources: String
    $resources: String
    $global_opportunities: String
    $representatives: [ID]
    $missionaries: [ID]
    $categories: [ID]
  ) {
    createForeignMission(
      input: {
        name: $name
        place: $place
        additional_note: $additional_note
        purpose: $purpose
        ministerial_focus: $ministerial_focus
        capacitation_resources: $capacitation_resources
        resources: $resources
        global_opportunities: $global_opportunities
        representatives: { connect: $representatives }
        missionaries: { connect: $missionaries }
        categories: { connect: $categories }
      }
    ) {
      id
    }
  }
`,vn=W`
  mutation deleteForeignMission($id: ID!) {
    deleteForeignMission(id: $id) {
      name
    }
  }
`,bn=W`
  mutation deleteMissions($ids: [Int]) {
    deleteMissions(ids: $ids) {
      id
    }
  }
`,wn=W`
  mutation disconnectForeignKeys(
    $id: ID!
    $categories: [ID]
    $missionaries: [ID]
    $representatives: [ID]
  ) {
    updateForeignMission(
      input: {
        id: $id
        categories: { disconnect: $categories }
        missionaries: { disconnect: $missionaries }
        representatives: { disconnect: $representatives }
      }
    ) {
      id
    }
  }
`,yn=W`
  mutation updateForeignMission(
    $id: ID!
    $name: String!
    $place: String
    $additional_note: String
    $purpose: String
    $ministerial_focus: String
    $capacitation_resources: String
    $resources: String
    $global_opportunities: String
    $representatives: [ID]
    $missionaries: [ID]
    $categories: [ID]
  ) {
    updateForeignMission(
      input: {
        id: $id
        name: $name
        place: $place
        additional_note: $additional_note
        purpose: $purpose
        ministerial_focus: $ministerial_focus
        capacitation_resources: $capacitation_resources
        resources: $resources
        global_opportunities: $global_opportunities
        representatives: { connect: $representatives }
        missionaries: { connect: $missionaries }
        categories: { connect: $categories }
      }
    ) {
      id
    }
  }
`,Nn=({foreignMissionList:s,setSelectedIds:o,categoryFilter:u,contactFilter:i,placeFilter:g})=>{let m="";const E=[Ce(ce({title:"Nombre",dataIndex:"name"},(a=>({filterDropdown:({setSelectedKeys:n,selectedKeys:l,confirm:S,clearFilters:$})=>e.createElement("div",{style:{padding:8}},e.createElement(G,{ref:D=>{m=D},placeholder:"Busqueda",value:l[0],onChange:D=>n(D.target.value?[D.target.value]:[]),onPressEnter:()=>y(l,S,a),style:{marginBottom:8,display:"block"}}),e.createElement(Ke,null,e.createElement(xe,{type:"primary",onClick:()=>y(l,S,a),icon:e.createElement(Fe,null),size:"small",style:{width:90}},"Buscar"),e.createElement(xe,{onClick:()=>k($),size:"small",style:{width:90}},"Limpiar"))),filterIcon:n=>e.createElement(Fe,{style:{color:n?"#1890ff":void 0}}),onFilter:(n,l)=>l[a]?l[a].toString().toLowerCase().includes(n.toLowerCase()):"",onFilterDropdownVisibleChange:n=>{n&&setTimeout(()=>m.select(),100)},render:n=>n}))("name")),{defaultSortOrder:"descend",sorter:(a,n)=>a.name.length-n.name.length}),{title:"Representantes",dataIndex:"representatives",filters:i,onFilter:(a,n)=>n.representatives.includes(a),width:"25%",filterSearch:!0,render:a=>e.createElement(e.Fragment,null,a!==void 0&&a.length!==0&&a.map(n=>{let l="green";return e.createElement(He,{color:l,key:n},n.toUpperCase())}))},{title:"Lugar",dataIndex:"place",filters:g,onFilter:(a,n)=>n.place.includes(a),width:"25%",filterSearch:!0},{title:"Categor\xEDas",dataIndex:"categories",filters:u,onFilter:(a,n)=>n.categories.includes(a),width:"25%",filterSearch:!0,render:a=>e.createElement(e.Fragment,null,a!==void 0&&a.length!==0&&a.map(n=>{let l="geekblue";return e.createElement(He,{color:l,key:n},n.toUpperCase())}))}],[f,x]=t.exports.useState([]),d={onChange:(a,n)=>{if(n.length!==0){let l=[];n.forEach(S=>{const{key:$}=S;l.push(parseInt($))}),o(l)}},getCheckboxProps:a=>({disabled:a.name==="Disabled User",name:a.name})},h="checkbox",b={searchText:"",searchedColumn:""},[N,w]=t.exports.useState(b),y=(a,n,l)=>{n(),w({searchText:a[0],searchedColumn:l})},k=a=>{a(),w({searchText:""})};function r(a,n,l,S){}return t.exports.useEffect(()=>(s!==void 0&&x(s),()=>{x([])}),[s]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Ze,{rowSelection:ce({type:h},d),columns:E,dataSource:f,onChange:r}))},kn=({history:s})=>{const{data:o}=Me(st),[u]=Z(vn),[i]=Z(bn),[g,{data:m}]=me(Ve),[v,{data:E}]=me(Re),[f,x]=t.exports.useState([]),[d,h]=t.exports.useState([]),[b,N]=t.exports.useState([]),[w,y]=t.exports.useState([]),[k,r]=t.exports.useState([]),[a,n]=t.exports.useState([]),l=le(),{loading:S}=ae(p=>p.ui),$=p=>{let A=[];return p.filter((F,U)=>p.indexOf(F)===U).forEach(F=>{const U={text:F,value:F};U.text!==""&&A.push(U)}),A},D=p=>{if(x([]),p!==void 0&&p.length!==0){const A=p.map(F=>F.place),P=$(A);n(P),p.forEach(F=>{const{categories:U}=F,{missionaries:Q}=F,{representatives:z}=F,j={key:F.id,name:F.name,place:F.place,representatives:z.length!==0?z.map(R=>R.name):"",missionaries:Q.length!==0?Q.map(R=>R.name):"",categories:U.length!==0?U.map(R=>R.name):""};x(R=>[...R,j])})}},K=async()=>{if(l(te()),ne.destroy(),b.length===1)try{await u({variables:{id:b[0]}}).then(p=>{M("success","Informacion","Misi\xF3n Transcultural eliminada satisfactoriamente!"),q()})}catch(p){console.log(p.name),M("error","Error!",`Ocurri\xF3 una error: ${p}`),l(B())}else if(b.length>1)try{await i({variables:{ids:b}}).then(p=>{M("success","Informacion","Misines Transculturales eliminadas satisfactoriamente!"),q()})}catch(p){console.log(p.name),M("error","Error!",`Ocurrio un error: ${p.name}`)}else M("warning","Atencion!","Debe seleccionar al menos una misi\xF3n transcultural!")},q=()=>{N(""),x([]),h([]),_()},C=()=>{if(b.length!==0){const p=`open${Date.now()}`,A=e.createElement(xe,{type:"danger",onClick:K,style:{borderRadius:"100px"}},"Confirmar");ne.open({message:"Atencion!",description:"Esta seguro que desea eliminar la misi\xF3n transcultural?",btn:A,key:p})}else M("warning","Atencion!","Debe seleccionar al menos una misi\xF3n transcultural!")},c=()=>{s.push("/dashboard/missions/form")},_=async()=>{await we.refetchQueries({include:[st]}),l(B())},L=()=>{if(b.length!==0){const p=b[0];p!==void 0&&p!==""&&s.replace(`/dashboard/missions/view/${p}`)}else M("warning","Atencion!","Debe seleccionar al menos una misi\xF3n transcultural!")},V=()=>{if(b.length!==0){const p=b[0];p!==void 0&&p!==""&&s.replace(`/dashboard/missions/form/${p}`)}else M("warning","Atencion!","Debe seleccionar al menos una misi\xF3n transcultural!")},M=(p,A,P)=>{ne[p]({message:A,description:P})};return t.exports.useEffect(()=>{if(o!==void 0){const{foreignMissions:p}=o;D(p)}},[o]),t.exports.useEffect(()=>{if(m!==void 0){const{categories:p}=m;let A=[];p!==void 0&&p.length!==0&&(p.forEach(P=>{const F={text:P.name,value:P.name};A.push(F)}),y(A))}},[m]),t.exports.useEffect(()=>{if(E!==void 0){const{contacts:p}=E;if(p!==void 0&&p.length!==0){let A=[];p.forEach(P=>{const F={text:P.name,value:P.name};A.push(F)}),r(A)}}},[E]),t.exports.useEffect(()=>{f.length!==0&&h(f)},[f]),t.exports.useEffect(()=>{l(te()),g(),v(),_()},[]),e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},S===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1"},e.createElement("p",{className:"mx-2 "},"Lista de Misiones Transculturales "),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),e.createElement("hr",{className:"w-1/3"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:c,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:V,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:L,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-indigo-400 bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:C,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-red-400 bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,d.length!==0?e.createElement(Nn,{foreignMissionList:d,setSelectedIds:N,categoryFilter:w,contactFilter:k,placeFilter:a,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay misiones transculturales en la base de datos a\xFAn."),e.createElement("p",{onClick:c,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Misi\xF3n Transcultural +")))):e.createElement(de,{className:"my-10"}))},Cn=({history:s})=>{const{id:o}=Pe(),[u,{data:i}]=me(xt),[g,m]=t.exports.useState(""),[v,E]=t.exports.useState(""),[f,x]=t.exports.useState(""),[d,h]=t.exports.useState(""),[b,N]=t.exports.useState(""),[w,y]=t.exports.useState(""),[k,r]=t.exports.useState(""),[a,n]=t.exports.useState(""),[l,S]=t.exports.useState([]),[$,D]=t.exports.useState([]),[K,q]=t.exports.useState([]),C=le(),{loading:c}=ae(L=>L.ui);t.exports.useEffect(()=>{u({variables:{id:o}}),C(te())},[]),t.exports.useEffect(()=>{if(!i)return e.createElement(Ue,{to:"/dashboard/missions"});const L=i.foreignMission;if(L!==null){const{name:V,place:M,additional_note:p,purpose:A,ministerial_focus:P,capacitation_resources:F,resources:U,global_opportunities:Q,categories:z,representatives:j,missionaries:R}=L;m(V),x(M),E(p),h(A),N(P),y(F),r(U),n(Q);const oe=j.length!==0?j.map(se=>se.name):[];D(oe);const ue=z.length!==0?z.map(se=>se.name):[];S(ue);const ie=R.length!==0?R.map(se=>se.name):[];q(ie),C(B())}},[i]);const _=()=>{s.push("/dashboard/missions")};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},c?e.createElement("div",{className:"flex content-center"},e.createElement(de,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-xl mx-3 "},"Misi\xF3n Transcultural"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${g}`))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Nombre"),e.createElement("p",{className:"text-lg font-semibold text-blue-700 text-center"},g)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Representantes "),e.createElement("div",{className:"text-md font-semibold text-center"},$.map((L,V)=>e.createElement("p",{key:V,className:"text-blue-700 inline-block mx-2"},`${L}`)))))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Nota Adicional"),e.createElement("p",{className:"text-md text-center font-semibold "},v))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Prop\xF3sito"),e.createElement("p",{className:"text-md font-semibold  text-center"},d)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Enfoque Ministerial"),e.createElement("p",{className:"text-md font-semibold  text-center"},b)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"}," ","Oportunidades Globales"),e.createElement("p",{className:"text-md text-center font-semibold "},a))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Lugar"),e.createElement("p",{className:"text-md font-semibold  text-center"},f)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Recursos"),e.createElement("p",{className:"text-md font-semibold  text-center"},k)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Recursos de Capacitaci\xF3n"),e.createElement("p",{className:"text-md text-center font-semibold "},w))))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"text-xl text-center"},"Candidatos Misioneros"),e.createElement("div",{className:"text-md font-semibold text-center"},K.map((L,V)=>e.createElement("p",{key:V,className:"text-blue-700 inline-block mx-2"},`${L}`)))))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Categor\xEDas "),e.createElement("div",{className:"text-md font-semibold text-center"},l.map((L,V)=>e.createElement("p",{key:V,className:"text-blue-700 inline-block mx-2"},`#${L}`))))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:_,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")))))))},{TextArea:Sn}=G,Mt=({history:s})=>{const{id:o}=Pe(),[u]=Z(fn),[i]=Z(wn),[g]=Z(yn),[m,{data:v}]=me(xt),E=le(),{loading:f}=ae(O=>O.ui),[x,d]=t.exports.useState(""),[h,b]=t.exports.useState(""),[N,w]=t.exports.useState(""),[y,k]=t.exports.useState(""),[r,a]=t.exports.useState(""),[n,l]=t.exports.useState(""),[S,$]=t.exports.useState(""),[D,K]=t.exports.useState(""),[q,C]=t.exports.useState(""),[c,_]=t.exports.useState([]),[L,V]=t.exports.useState([]),[M,p]=t.exports.useState([]),[A,P]=t.exports.useState([]),[F,U]=t.exports.useState([]),[Q,z]=t.exports.useState([]),[j,R]=t.exports.useState(""),[oe,ue]=t.exports.useState([]),[ie,se]=t.exports.useState([]),Te=({target:O})=>{b(O.value)},Ee=({target:O})=>{w(O.value)},he=({target:O})=>{k(O.value)},De=({target:O})=>{a(O.value)},Ae=({target:O})=>{l(O.value)},fe=({target:O})=>{$(O.value)},$e=({target:O})=>{K(O.value)},ye=({target:O})=>{C(O.value)},Oe=async()=>{H()&&(E(te()),x==="save"?await J():(await T(),await pe()))},T=async()=>{await we.clearStore({include:[xt]})},H=()=>{let O=!0;return ze.isEmpty(h)&&(X("warning","Atencion","Llene el nombre de la misi\xF3n transcultural!"),O=!1),O},X=(O,Ne,ve)=>{ne[O]({message:Ne,description:ve})},Y=()=>{s.push("/dashboard/missions")},J=async()=>{try{await u({variables:{name:h,place:N,additional_note:y,purpose:r,ministerial_focus:n,capacitation_resources:S,resources:D,global_opportunities:q,representatives:c,categories:A,missionaries:Q}}).then(O=>{O.data.createForeignMission!==void 0&&O.data.createForeignMission!==null&&(X("success","Misi\xF3n Transcultural Guardada","La misi\xF3n transcultural se guardo correctamente!"),E(B()),s.push("/dashboard/missions"))})}catch(O){E(B()),console.log(O.message),X("error","Error",`Ocurrio algun error: ${O.message} !`)}},pe=async()=>{const O=o,Ne=A,ve=Q,Se=c;if(O!==void 0)try{Ne.length===0&&ve.length===0&&Se.length===0?await i({variables:{id:O,categories:[],missionaries:[],representatives:[]}}).then(ge=>{}):Ne.length!==0&&ve.length===0&&Se.length===0?await i({variables:{id:O,categories:oe,missionaries:[],representatives:[]}}).then(ge=>{}):Ne.length===0&&ve.length!==0&&Se.length===0?await i({variables:{id:O,categories:[],missionaries:ie,representatives:[]}}).then(ge=>{}):Ne.length===0&&ve.length===0&&Se.length!==0?await i({variables:{id:O,categories:[],missionaries:[],representatives:j}}).then(ge=>{}):await i({variables:{id:O,categories:oe,missionaries:ie,representatives:j}}).then(ge=>{}),await g({variables:{id:O,name:h,place:N,additional_note:y,purpose:r,ministerial_focus:n,capacitation_resources:S,resources:D,global_opportunities:q,representatives:Se,categories:Ne,missionaries:ve}}).then(ge=>{ue([]),se([]),R([]),X("success","Misi\xF3n Transcultural Modificada","La misi\xF3n transcultural se ha modificado correctamente!"),E(B()),s.push("/dashboard/missions")})}catch(ge){console.table(ge),E(B()),X("error","Error",`Ocurrio algun error: ${ge.message} !`)}};return t.exports.useEffect(()=>{o!==void 0?(E(te()),d("update")):d("save")},[]),t.exports.useEffect(async()=>{x==="update"&&m({variables:{id:o}})},[x]),t.exports.useEffect(()=>{if(v!==void 0)try{const{name:O,place:Ne,additional_note:ve,purpose:Se,ministerial_focus:ge,capacitation_resources:ot,resources:lt,global_opportunities:ct,categories:Qe,representatives:Xe,missionaries:Je}=v.foreignMission;b(O),w(Ne),k(ve),a(Se),l(ge),$(ot),K(lt),C(ct),p(Qe),U(Je),V(Xe),R(Xe.map(je=>je.id)),ue(Qe.map(je=>je.id)),se(Je.map(je=>je.id)),E(B())}catch(O){E(B()),console.log(O.message)}},[v]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},f?e.createElement("div",null,e.createElement(de,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},x==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-xl mx-3 "},"Guardar Misi\xF3n Transcultural"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${h}`))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-xl mx-3 "},"Modificar Misi\xF3n Transcultural"),e.createElement("h1",{className:"  text-2xl font-semibold text-blue-700 mx-1 "},`${h}`)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Nombre ",e.createElement("span",{className:"text-red-600 text-md mx-1"},"*"))),e.createElement(G,{placeholder:"Nombre",value:h,onChange:Te,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Representantes"),e.createElement(nt,{selectedContacts:L,setContacts:_})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Nota Adicional")),e.createElement(Sn,{value:y,onChange:he,placeholder:"Nota Adicional",style:{width:"350px"},autoSize:!0}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Prop\xF3sito")),e.createElement(G,{placeholder:"Prop\xF3sito",value:r,onChange:De,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Enfoque Ministerial")),e.createElement(G,{placeholder:"Enfoque Ministerial",value:n,onChange:Ae,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex s"},e.createElement("label",null,"Oportunidades Globales ")),e.createElement(G,{placeholder:"Oportunidades Globales",value:q,onChange:ye,style:{width:"350px"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Lugar")),e.createElement(G,{placeholder:"Lugar",value:N,onChange:Ee,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex "},e.createElement("label",null,"Recursos")),e.createElement(G,{placeholder:"Recursos",value:D,onChange:$e,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("div",{className:"flex s"},e.createElement("label",null,"Recursos de Capacitaci\xF3n ")),e.createElement(G,{placeholder:"Recursos de Capacitaci\xF3n",value:S,onChange:fe,style:{width:"350px"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"my-2"},e.createElement("label",null,"Candidatos Misioneros"),e.createElement(nt,{selectedContacts:F,setContacts:z})),e.createElement("div",{className:"my-2"},e.createElement("div",{className:"flex"},e.createElement("label",null,"Categor\xEDas")),e.createElement(pt,{selectedCategories:M,setCategories:P}))),e.createElement("hr",{className:"my-8"}),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:Oe,className:"flex w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},x==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:Y,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},_n=()=>e.createElement(kt,null,e.createElement(re,{exact:!0,path:"/dashboard/contacts",component:ja}),e.createElement(re,{exact:!0,path:"/dashboard/contacts/form",component:_t}),e.createElement(re,{exact:!0,path:"/dashboard/contacts/form/:id",component:_t}),e.createElement(re,{exact:!0,path:"/dashboard/contacts/view/:id",component:Ha}),e.createElement(re,{exact:!0,path:"/dashboard/categories",component:Qa}),e.createElement(re,{exact:!0,path:"/dashboard/organizations",component:rn}),e.createElement(re,{exact:!0,path:"/dashboard/organizations/form",component:$t}),e.createElement(re,{exact:!0,path:"/dashboard/organizations/form/:id",component:$t}),e.createElement(re,{exact:!0,path:"/dashboard/organizations/view/:id",component:sn}),e.createElement(re,{exact:!0,path:"/dashboard/search",component:cn}),e.createElement(re,{exact:!0,path:"/dashboard/trackings",component:hn}),e.createElement(re,{exact:!0,path:"/dashboard/trackings/form",component:Lt}),e.createElement(re,{exact:!0,path:"/dashboard/trackings/form/:id",component:Lt}),e.createElement(re,{exact:!0,path:"/dashboard/trackings/view/:id",component:En}),e.createElement(re,{exact:!0,path:"/dashboard/missions",component:kn}),e.createElement(re,{exact:!0,path:"/dashboard/missions/form",component:Mt}),e.createElement(re,{exact:!0,path:"/dashboard/missions/form/:id",component:Mt}),e.createElement(re,{exact:!0,path:"/dashboard/missions/view/:id",component:Cn}),e.createElement(re,{exact:!0,path:"/dashboard",component:on}),e.createElement(Ue,{to:"/dashboard"})),$n=()=>e.createElement(e.Fragment,null,e.createElement("div",{className:"flex h-screen bg-white font-roboto"},e.createElement(ba,null),e.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},e.createElement(Ta,null),e.createElement("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-white"},e.createElement("div",{className:"container mx-auto px-6 py-8"},e.createElement(_n,null)))))),In=(s={})=>{const[o,u]=t.exports.useState(s);return[o,({target:m})=>{u(Ce(ce({},o),{[m.name]:m.value}))},(m=s)=>{u(m)}]},Ln=Sa,Mn=({history:s})=>{const[o]=Z(Ln),u=le(),{loading:i}=ae(h=>h.ui),[g,m]=In({username:"",password:""}),{username:v,password:E}=g,f=(h,b,N)=>{ne[h]({message:b,description:N})},x=h=>{document.getElementById("image")},d=async h=>{if(h.preventDefault(),v!==""&&E!==""){u(te()),x();try{await o({variables:{username:v,password:E}}).then(b=>{if(b.data.login!==void 0){const{access_token:N,user:w}=b.data.login,{name:y,email:k,roles:r,images:a}=w;a!==void 0&&a.length!==0?u(mt(N,y,k,r[0].name,a[0].name)):u(mt(N,y,k,r[0].name,"")),localStorage.setItem("_token",N),x(!1)}u(B()),s.push("/dashboard")})}catch(b){b.message==="invalid_grant"&&console.log("No se reconoce usuario y pass!!"),f("error","Error!","No se reconoce usuario o contrase\xF1a!"),u(B()),x()}}else f("warning","Atenci\xF3n!","Llene los campos!")};return e.createElement("div",null,e.createElement("div",{className:" border-2 border-gray-50 w-full max-w-sm p-6 m-auto my-20 bg-white rounded-md shadow-lg dark:bg-gray-800"},e.createElement("img",{id:"image",src:`${tt}assets/images/apoyo_cuba.5fbeaca6.jpg`,className:"w-40 h-40 mx-auto content-center my-auto"}),e.createElement("form",{className:"mt-6"},i===!1?e.createElement("div",null,e.createElement("div",null,e.createElement("label",{htmlFor:"username",className:"block text-sm text-gray-800 dark:text-gray-200"},"Usuario"),e.createElement("input",{type:"text",value:v,name:"username",onChange:m,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring"})),e.createElement("div",{className:"mt-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{htmlFor:"password",className:"block text-sm text-gray-800 dark:text-gray-200"},"Contrase\xF1a")),e.createElement("input",{type:"password",value:E,name:"password",onChange:m,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring"})),e.createElement("div",{className:"mt-6"},e.createElement("button",{onClick:d,className:"w-full px-4 py-2 tracking-wide text-white text-lg font-bold transition-colors duration-200 transform bg-blue-600 rounded-full hover:bg-blue-500 focus:outline-none focus:bg-gray-400"},"Login")),e.createElement("div",{className:"flex items-center justify-between mt-4"},e.createElement("span",{className:"w-1/5 border-b dark:border-gray-600 lg:w-1/5"}),e.createElement("p",{href:"#",className:"cursor-pointer text-xs hover:text-blue-700 text-center text-gray-600 uppercase dark:text-gray-400"},`Broach Apoyo Contacts ${new Date().getFullYear()}`),e.createElement("span",{className:"w-1/5 border-b dark:border-gray-400 lg:w-1/5"}))):e.createElement(de,null))))},Fn=()=>{const s=le(),[o,u]=t.exports.useState(""),{token:i}=ae(g=>g.auth);return t.exports.useEffect(async()=>{u(i!==void 0)},[i]),t.exports.useEffect(()=>{},[o]),t.exports.useEffect(()=>()=>{u("")},[]),t.exports.useEffect(()=>{if(i!==void 0)try{we.query({query:dt}).then(g=>{console.log(g.data.me);const m=i,{name:v,email:E,roles:f,images:x}=g.data.me;s(mt(m,v,E,f[0].name,x[0].name)),u(!0)})}catch(g){console.log(g.message)}else u(!1)},[]),e.createElement("div",null,e.createElement(la,null,o===""?e.createElement("div",{className:"my-64"},e.createElement(de,null)):e.createElement("div",{className:"my-auto "},e.createElement(kt,null,(o===!1||o===!0)&&e.createElement(re,{exact:!0,path:"/auth/login",component:Mn}),o===!0?e.createElement(re,{path:"/dashboard",component:$n}):e.createElement(Ue,{to:"/auth/login"})))))},zn=()=>e.createElement(ca,{store:va},e.createElement(ia,{locale:ma},e.createElement(Fn,null)));da.render(e.createElement(ua,{client:we},e.createElement(zn,null),","),document.getElementById("root"));
