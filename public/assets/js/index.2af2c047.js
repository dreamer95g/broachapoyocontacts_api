var ft=Object.defineProperty,Et=Object.defineProperties;var vt=Object.getOwnPropertyDescriptors;var Ge=Object.getOwnPropertySymbols;var bt=Object.prototype.hasOwnProperty,yt=Object.prototype.propertyIsEnumerable;var Ye=(n,o,g)=>o in n?ft(n,o,{enumerable:!0,configurable:!0,writable:!0,value:g}):n[o]=g,V=(n,o)=>{for(var g in o||(o={}))bt.call(o,g)&&Ye(n,g,o[g]);if(Ge)for(var g of Ge(o))yt.call(o,g)&&Ye(n,g,o[g]);return n},be=(n,o)=>Et(n,vt(o));import{c as wt,a as Nt,b as kt,d as Ct,t as St,u as ae,e as P,r as t,R as e,L as Ee,g as O,T as Le,I as Y,S as Me,B as se,f as he,h as Ie,i as Lt,s as Mt,A as It,j as $t,k as ve,l as H,m as Z,n as j,U as At,M as ze,o as de,p as Ce,v as oe,q as $e,C as _t,w as Qe,x as q,y as Dt,P as Ft,z as Bt,D as zt}from"./vendor.513be071.js";const Tt=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&m(p)}).observe(document,{childList:!0,subtree:!0});function g(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function m(l){if(l.ep)return;l.ep=!0;const u=g(l);fetch(l.href,u)}};Tt();const ue={login:"[Auth] Login",logout:"[Auth] Logout",sideBarState:"[UI]  Side Bar State Changed",uiSetError:"[UI] Set Error",uiRemoveError:"[UI] Remove Error",uiStartLoading:"[UI] Start loading",uiFinishLoading:"[UI] Finish loading"},Ot=(n={},o)=>{switch(o.type){case ue.login:return{token:o.payload.token,name:o.payload.name,email:o.payload.email,role:o.payload.role,photo:o.payload.photo};case ue.logout:return{};default:return n}},Rt={loading:!1,msgError:null,sideBarSate:!1},jt=(n=Rt,o)=>{switch(o.type){case ue.sideBarState:return be(V({},n),{sideBarSate:o.payload});case ue.uiSetError:return be(V({},n),{msgError:o.payload});case ue.uiRemoveError:return be(V({},n),{msgError:null});case ue.uiStartLoading:return be(V({},n),{loading:!0});case ue.uiFinishLoading:return be(V({},n),{loading:!1});default:return n}},Vt=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ct,Pt=wt({auth:Ot,ui:jt}),Ht=Nt(Pt,Vt(kt(St))),Te=n=>({type:ue.sideBarState,payload:n}),W=()=>({type:ue.uiStartLoading}),F=()=>({type:ue.uiFinishLoading}),ke="https://apoyocubahabana.herokuapp.com/",Wt=()=>{const n=ae(),{sideBarSate:o}=P(x=>x.ui);P(x=>x.auth),P(x=>x.auth);const{photo:g}=P(x=>x.auth),[m,l]=t.exports.useState(),u=()=>{n(Te(!o))};t.exports.useEffect(()=>{l(g)},[]);const p=()=>{n(Te(!1))},f=x=>{const i=document.getElementById("sidebar");x?(i.classList.remove("-translate-x-full"),i.classList.remove("ease-in"),i.classList.add("translate-x-0"),i.classList.add("ease-out")):(i.classList.remove("translate-x-0"),i.classList.remove("ease-out"),i.classList.add("-translate-x-full"),i.classList.add("ease-in"))};return t.exports.useEffect(()=>{f(o)},[o]),e.createElement(e.Fragment,null,e.createElement("div",{id:"sidebar",className:"fixed z-30 inset-y-0 left-0 w-64 transition duration-700 transform flex flex-col h-screen py-8 bg-white border-r dark:bg-gray-800 dark:border-gray-600 overflow-y-auto overflow-x-hidden border-gray-300 rounded-lg ",onClick:u,onMouseLeave:p},e.createElement("div",{className:"flex flex-col items-center mt-6 -mx-2"},e.createElement("div",null,e.createElement("img",{className:"w-32 h-32 mx-auto content-center my-auto rounded-full ",src:`${ke}assets/images/apoyo_cuba.5fbeaca6.jpg`,alt:"brand"}),e.createElement("hr",{className:"my-4 "}))),e.createElement("div",{className:"flex flex-col justify-between flex-1 mt-6"},e.createElement("nav",null,e.createElement(Ee,{to:"/dashboard",className:"flex items-center px-4 border-l-4 border-transparent hover:border-blue-500 hover:bg-gray-100 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400  dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})),e.createElement("span",{className:"mx-4 font-medium"},"Inicio")),e.createElement(Ee,{to:"/dashboard/search",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Busquedas")),e.createElement(Ee,{to:"/dashboard/contacts",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Contactos")),e.createElement(Ee,{to:"/dashboard/trackings",className:"border-l-4 border-transparent hover:border-blue-500 flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})),e.createElement("span",{className:"mx-4 font-medium"},"Seguimiento")),e.createElement(Ee,{className:"border-l-4 border-transparent hover:border-blue-500 flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-600",to:"/dashboard/sponsors"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Apoyadores")),e.createElement(Ee,{className:"border-l-4 border-transparent hover:border-blue-500 flex items-center px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",to:"/dashboard/missions"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-4 font-medium"},"Misiones Transculturales")),e.createElement(Ee,{to:"/dashboard/ministries",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})),e.createElement("span",{className:"mx-4 font-medium"},"Ministerios Afines")),e.createElement(Ee,{to:"/dashboard/agencies",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})),e.createElement("span",{className:"mx-4 font-medium"},"Agencias")),e.createElement(Ee,{to:"/dashboard/categories",className:"flex items-center border-l-4 border-transparent hover:border-blue-500 px-4 py-2 mt-5 text-gray-600 transition-colors duration-200 transform dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-gray-200 hover:text-blue-700",href:"#"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})),e.createElement("span",{className:"mx-4 font-medium"},"Categorias"))))))},Oe=(n,o,g,m,l)=>u=>{u(qt(n,o,g,m,l))},qt=(n,o,g,m,l)=>({type:ue.login,payload:{token:n,name:o,email:g,role:m,photo:l}}),Ut=()=>n=>{n(Gt()),localStorage.removeItem("_token")},Gt=()=>({type:ue.logout}),Yt=()=>{const n=ae();P(r=>r.ui);const{email:o}=P(r=>r.auth),{name:g}=P(r=>r.auth),{photo:m}=P(r=>r.auth),[l,u]=t.exports.useState();t.exports.useEffect(()=>{u(m)},[]);const[p,f]=t.exports.useState(!1),x=()=>{n(Ut()),localStorage.removeItem("_token")},i=()=>{f(!p)},d=()=>{n(Te(!0))};return e.createElement(e.Fragment,null,e.createElement("nav",{className:"  dark:bg-gray-800 border-b-4 border-blue-600"},e.createElement("div",{className:"container px-35 py-4 mx-auto "},e.createElement("div",{className:"flex md:justify-between"},e.createElement("div",{className:"flex float-left w-12",onClick:d},e.createElement("div",{className:"flex "},e.createElement("button",{type:"button",className:" dark:text-gray-200 hover:text-blue-600 dark:hover:text-gray-400 focus:outline-none  dark:focus:text-gray-400","aria-label":"toggle menu"},e.createElement("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M4 6H20M4 12H20M4 18H11",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))),e.createElement("div",{className:"flex  float-right ml-auto"},e.createElement("div",{className:"flex "},e.createElement("div",{className:"relative"},e.createElement("div",{onClick:i,className:" relative z-10 flex items-center p-2 text-sm text-gray-600 bg-white border border-transparent rounded-md focus:border-blue-500 focus:ring-opacity-40 dark:focus:ring-opacity-40 focus:ring-blue-500 dark:focus:ring-blue-600 focus:ring dark:text-white dark:bg-gray-800 focus:outline-none cursor-pointer"},e.createElement("button",{className:" flex mx-auto my-auto hover:text-blue-600  font-semibold "},l!==""?e.createElement("img",{className:"flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9",src:l,alt:"jane avatar"}):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})))),p&&e.createElement("div",{onMouseLeave:i,onClick:i,className:"border-2 border-gray-50 animate__animated animate__fadeIn  absolute right-0 z-20 w-56 py-2 mt-2 overflow-hidden bg-white rounded-md shadow-xl dark:bg-gray-800"},e.createElement("a",{href:"#",className:"flex items-center p-3 -mt-2 text-sm text-gray-600 transition-colors duration-200 transform dark:text-gray-300 hover:text-blue-600 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},l!==""?e.createElement("img",{className:"flex-shrink-0 object-cover mx-1 rounded-full w-9 h-9",src:l,alt:"jane avatar"}):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("div",{className:"mx-1 "},e.createElement("h1",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200"},g!==void 0?g:"User"),e.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},o!==void 0?o:""))),e.createElement("hr",{className:"border-gray-200 dark:border-gray-700 "}),e.createElement("a",{href:"#",className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-600  flex items-center p-3 text-sm text-gray-600 capitalize transition-colors duration-200 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},e.createElement("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8C17 10.7614 14.7614 13 12 13C9.23858 13 7 10.7614 7 8ZM12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z",fill:"currentColor"}),e.createElement("path",{d:"M6.34315 16.3431C4.84285 17.8434 4 19.8783 4 22H6C6 20.4087 6.63214 18.8826 7.75736 17.7574C8.88258 16.6321 10.4087 16 12 16C13.5913 16 15.1174 16.6321 16.2426 17.7574C17.3679 18.8826 18 20.4087 18 22H20C20 19.8783 19.1571 17.8434 17.6569 16.3431C16.1566 14.8429 14.1217 14 12 14C9.87827 14 7.84344 14.8429 6.34315 16.3431Z",fill:"currentColor"})),e.createElement("span",{className:"mx-1 "},"Ver Perfil")),e.createElement("a",{href:"#",className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-600 flex items-center p-3 text-sm text-gray-600 capitalize transition-colors duration-200 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},e.createElement("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M12 22C6.47967 21.9939 2.00606 17.5203 2 12V11.8C2.10993 6.30452 6.63459 1.92794 12.1307 2.00087C17.6268 2.07379 22.0337 6.56887 21.9978 12.0653C21.9619 17.5618 17.4966 21.9989 12 22ZM11.984 20H12C16.4167 19.9956 19.9942 16.4127 19.992 11.996C19.9898 7.57928 16.4087 3.99999 11.992 3.99999C7.57528 3.99999 3.99421 7.57928 3.992 11.996C3.98979 16.4127 7.56729 19.9956 11.984 20ZM13 18H11V16H13V18ZM13 15H11C10.9684 13.6977 11.6461 12.4808 12.77 11.822C13.43 11.316 14 10.88 14 9.99999C14 8.89542 13.1046 7.99999 12 7.99999C10.8954 7.99999 10 8.89542 10 9.99999H8V9.90999C8.01608 8.48093 8.79333 7.16899 10.039 6.46839C11.2846 5.76778 12.8094 5.78493 14.039 6.51339C15.2685 7.24184 16.0161 8.57093 16 9.99999C15.9284 11.079 15.3497 12.0602 14.44 12.645C13.6177 13.1612 13.0847 14.0328 13 15Z",fill:"currentColor"})),e.createElement("span",{className:"mx-1"},"Ayuda")),e.createElement("hr",{className:"border-gray-200 dark:border-gray-700 "}),e.createElement("a",{href:"#",onClick:x,className:"border-l-4 border-transparent hover:border-blue-500 hover:text-blue-600 flex items-center p-3 text-sm text-gray-600 capitalize transition-colors duration-200 transform dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white"},e.createElement("svg",{className:"w-5 h-5 mx-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:"M19 21H10C8.89543 21 8 20.1046 8 19V15H10V19H19V5H10V9H8V5C8 3.89543 8.89543 3 10 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM12 16V13H3V11H12V8L17 12L12 16Z",fill:"currentColor"})),e.createElement("span",{className:"mx-1"},"Salir"))))))))))},ye=O`
  query getContacts {
    contacts {
      id
      name
      dni
      phone
      email
      place
      categories {
        name
      }
    }
  }
`,Re=O`
  query getContactById($id: ID!) {
    contact(id: $id) {
      id
      name
      dni
      phone
      email
      family
      place
      ministerial_area
      description
      additional_note
      images {
        id
        name
      }
      categories {
        id
        name
      }
    }
  }
`,Qt=O`
  query contactByCategory($categories: Mixed) {
    contactByCategory(
      categories: { column: ID, operator: IN, value: $categories }
    ) {
      id
      name
      categories {
        id
        name
      }
    }
  }
`,Zt=O`
  mutation(
  $name: String!,
  $dni: String!,
  $phone: String, 
  $email: String,
  $family: String,
  $place: String,
  $ministerial_area: String,
  $description: String,
  $additional_note: String,
  $categories: [ID],
  $images: [ID]
)  {
 createContact(
    input: {
      name: $name
      dni: $dni
      phone: $phone
      email: $email
      family: $family
      place:  $place
      ministerial_area: $ministerial_area
      description: $description,
      additional_note: $additional_note
      images: { connect: $images }
      categories: { connect: $categories }
    }
  ) {
    id
    name
  }
}
`,Kt=O`
  mutation deleteContact($id: ID!){
  deleteContact(id:$id){
    name
  }
}
`,Xt=O`
mutation disconnectForeignKeys($id: ID!, $categories:[ID], $images: [ID] ){
  updateContact(input:{
    id: $id
    categories:{
      disconnect:$categories
    }
    images:{
      disconnect:$images
    }
    
  }){
    id
  }
}
`,Jt=O`
mutation updateContact($id: ID!,$name: String, $dni: String, $phone: String, $email: String, $family: String, $place: String, $ministerial_area: String, $description: String, $additional_note: String, $images: [ID], $categories: [ID] ){
  updateContact(input:{
        id: $id,
        name: $name,
        dni: $dni,
        phone: $phone,
        email: $email,
        family: $family,
        place: $place,
        ministerial_area: $ministerial_area,
        description: $description,
        additional_note:$additional_note,
        images: {
          connect: $images
        }
        categories: {
          connect: $categories
        }
  }){
    id
  }
}
`,xe=O`
  query Categories {
    categories {
      id
      name
    }
  }
`,Ze=O`
  query Categories {
    agencies {
      id
      name
    }
  }
`,ea=({contactList:n,setSelectedId:o,categoryFilter:g,placeFilter:m})=>{let l="";const u=s=>({filterDropdown:({setSelectedKeys:a,selectedKeys:c,confirm:h,clearFilters:L})=>e.createElement("div",{style:{padding:8}},e.createElement(Y,{ref:S=>{l=S},placeholder:"Busqueda",value:c[0],onChange:S=>a(S.target.value?[S.target.value]:[]),onPressEnter:()=>E(c,h,s),style:{marginBottom:8,display:"block"}}),e.createElement(Me,null,e.createElement(se,{type:"primary",onClick:()=>E(c,h,s),icon:e.createElement(he,null),size:"small",style:{width:90}},"Buscar"))),filterIcon:a=>e.createElement(he,{style:{color:a?"#1890ff":void 0}}),onFilter:(a,c)=>c[s]?c[s].toString().toLowerCase().includes(a.toLowerCase()):"",onFilterDropdownVisibleChange:a=>{a&&setTimeout(()=>l.select(),100)},render:a=>a}),p=[V({title:"Nombre",dataIndex:"name"},u("name")),V({title:"Dni",dataIndex:"dni"},u("dni")),V({title:"Tel\xE9fono",dataIndex:"phone"},u("phone")),V({title:"Correo",dataIndex:"email"},u("email")),{title:"Lugar",dataIndex:"place",filters:m,onFilter:(s,a)=>a.place.includes(s),filterSearch:!0,width:"15%"},{title:"Categor\xEDas",dataIndex:"categories",filters:g,onFilter:(s,a)=>a.categories.includes(s),width:"25%",filterSearch:!0,render:s=>e.createElement(e.Fragment,null,s!==void 0&&s.length!==0&&s.map(a=>{let c="geekblue";return e.createElement(Ie,{color:c,key:a},a.toUpperCase())}))}],[f,x]=t.exports.useState([]),i={onChange:(s,a)=>{if(a.length!==0){const c=a[0],{key:h}=c;o(h)}},getCheckboxProps:s=>({disabled:s.name==="Disabled User",name:s.name})},d="checkbox",r={searchText:"",searchedColumn:""},[y,w]=t.exports.useState(r),E=(s,a,c)=>{a(),w({searchText:s[0],searchedColumn:c})};function v(s,a,c,h){}return t.exports.useEffect(()=>(n!==void 0&&(x(n),console.log(f)),()=>{x([])}),[n]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Le,{rowSelection:V({type:d},i),columns:p,dataSource:f,onChange:v}))},ta=Lt({uri:`${ke}graphql`}),aa=Mt((n,{headers:o})=>{const g=localStorage.getItem("_token");return{headers:be(V({},o),{authorization:g?`Bearer ${g}`:""})}}),ge=new It({link:aa.concat(ta),cache:new $t});const le=()=>e.createElement(e.Fragment,null,e.createElement("div",{className:"sk-chase content-center mx-auto my-8"},e.createElement("div",{className:"sk-chase-dot "}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}),e.createElement("div",{className:"sk-chase-dot"}))),na=({history:n})=>{const{data:o}=ve(ye),[g]=H(Kt),[m,{data:l}]=Z(xe),[u,p]=t.exports.useState([]),[f,x]=t.exports.useState([]),[i,d]=t.exports.useState(""),[r,y]=t.exports.useState([]),[w,E]=t.exports.useState([]),v=ae(),{loading:s}=P(I=>I.ui),a=I=>{p([]),I.forEach(M=>{const{categories:b}=M,$={key:M.id,name:M.name,dni:M.dni,phone:M.phone,email:M.email,place:M.place,categories:b.length!==0?b.map(_=>_.name):""};p(_=>[..._,$])})},c=async()=>{if(v(W()),j.destroy(),i!=="")try{await g({variables:{id:i}}).then(I=>{k("success","Informacion","Contacto eliminado satisfactoriamente!"),h()})}catch(I){console.log(I.name),k("error","Error!",`Ocurrio un error: ${I.name}`)}else k("warning","Atencion!","Debe seleccionar al menos un contacto!")},h=()=>{d(""),p([]),x([]),z()},L=()=>{if(i!==""){const I=`open${Date.now()}`,M=e.createElement(se,{type:"danger",onClick:c,style:{borderRadius:"100px"}},"Confirmar");j.open({message:"Atencion!",description:"Esta seguro que desea eliminar el contacto?",btn:M,key:I})}else k("warning","Atencion!","Debe seleccionar al menos un contacto!")},S=()=>{n.push("/dashboard/contacts/form")},z=async()=>{await ge.refetchQueries({include:[ye]}),v(F())},B=()=>{const I=i;I!==""?n.replace(`/dashboard/contacts/view/${I}`):k("warning","Atencion!","Debe seleccionar al menos un contacto!")},N=()=>{const I=i;I!==""?n.replace(`/dashboard/contacts/form/${I}`):k("warning","Atencion!","Debe seleccionar al menos un contacto!")},k=(I,M,b)=>{j[I]({message:M,description:b})};return t.exports.useEffect(()=>{if(o!==void 0){const{contacts:I}=o;a(I);const M=I.map(_=>_.place),b=M.filter((_,T)=>M.indexOf(_)===T);let $=[];b.forEach(_=>{const T={text:_,value:_};$.push(T)}),E($)}},[o]),t.exports.useEffect(()=>{if(l!==void 0){const{categories:I}=l;let M=[];I.forEach(b=>{const $={text:b.name,value:b.name};M.push($)}),y(M)}},[l]),t.exports.useEffect(()=>{u.length!==0&&x(u)},[u]),t.exports.useEffect(()=>{v(W()),m(),z()},[]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},s===!1?e.createElement("div",{className:"overflow-hidden "},e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1"},e.createElement("p",{className:"mx-2 "},"Lista de contactos"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 my-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),e.createElement("hr",{className:"w-1/4"})),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:S,className:"flex mx-1 px-4 py-2 hover:bg-green-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:N,className:"flex mx-1 px-4 py-2 hover:bg-blue-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:B,className:"flex mx-1 px-4 py-2 hover:bg-indigo-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:L,className:"flex mx-1 px-4 py-2 hover:bg-red-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,f.length!==0?e.createElement(ea,{contactList:f,setSelectedId:d,categoryFilter:r,placeFilter:w,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay contactos en la base de datos aun."),e.createElement("p",{onClick:S,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Contacto +")))):e.createElement(le,{className:"my-10"}))},ra=({setPhoto:n,action:o,selectedImage:g})=>{const m={previewVisible:!1,previewImage:"",previewTitle:"",fileList:[]},[l,u]=t.exports.useState(m),p=a=>new Promise((c,h)=>{const L=new FileReader;L.readAsDataURL(a),L.onload=()=>c(L.result),L.onerror=S=>h(S)}),f=()=>u({previewVisible:!1,fileList:E}),x=async a=>{a.preview===void 0&&a.url===void 0?(a.preview=await p(a.originFileObj),u({previewImage:a.preview,previewVisible:!0,previewTitle:"Foto",fileList:[a]})):a.preview!==void 0&&a.url===void 0?u({previewImage:a.preview,previewVisible:!0,previewTitle:"Foto",fileList:[a]}):a.url!==void 0&&u({previewImage:a.url,previewVisible:!0,previewTitle:"Foto",fileList:[a]})},i=({fileList:a})=>{if(a!==void 0&&a.length!==0){u({fileList:a});const{originFileObj:c}=a[0];n(c)}u({fileList:a})},d=a=>{if(a!==void 0){const{id:c,name:h}=a;u({fileList:[{uid:"-1",name:"",status:"done",url:h}]})}},{previewVisible:r,previewImage:y,previewTitle:w,fileList:E}=l,v=()=>{E!==void 0&&E.length!==0&&(E[0].status="done")};t.exports.useEffect(()=>{v()},[l]),t.exports.useEffect(()=>{o==="update"&&g!==void 0&&d(g)},[g]);const s=e.createElement("div",null,e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e.createElement("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})));return e.createElement("div",null,e.createElement(At,{action:"",listType:"picture-card",fileList:E,onPreview:x,onChange:i},E!==void 0&&E.length>=1?null:s),e.createElement(ze,{visible:r,title:w,footer:null,onCancel:f},e.createElement("img",{alt:"example",style:{width:"100%",height:"400px"},src:y})))},oa=({setCategories:n,selectedCategories:o,action:g})=>{const[m,{data:l}]=Z(xe);let u=l!==void 0?l.categories:[];const[p,f]=t.exports.useState([]),x=r=>{f(r)},i=u.filter(r=>!p.includes(r)),d=r=>{let y=[];return r.forEach(w=>{u.forEach(E=>{E.name===w&&y.push(E.id)})}),y};return t.exports.useEffect(()=>{const r=d(p);n(r)},[p]),t.exports.useEffect(()=>{m()},[]),t.exports.useEffect(()=>{const r=o.map(y=>y.name);f(r)},[o]),t.exports.useEffect(()=>{l!==void 0&&(u=l.categories)},[l]),e.createElement("div",null,e.createElement(de,{mode:"multiple",placeholder:"Seleccione la Categoria",value:p,onChange:x,style:{width:"350px"},dropdownStyle:{borderRadius:"5px"}},i.map(r=>e.createElement(de.Option,{key:r.id,value:r.name},r.name))))},sa=O`
  mutation deleteImage($id: Int!) {
    deleteImage(id: $id) {
      name
    }
  }
`,la=O`
  mutation uploadImgB64($name: String!) {
    storeImage(name: $name) {
      id
    }
  }
`,{TextArea:je}=Y,Ke=({history:n})=>{const{id:o}=Ce(),[g]=H(Zt),[m]=H(Xt),[l]=H(Jt),[u]=H(sa),[p]=H(la),[f,{data:x}]=Z(Re),i=ae(),{loading:d}=P(A=>A.ui),[r,y]=t.exports.useState(""),[w,E]=t.exports.useState(""),[v,s]=t.exports.useState(""),[a,c]=t.exports.useState(""),[h,L]=t.exports.useState(""),[S,z]=t.exports.useState(""),[B,N]=t.exports.useState(""),[k,I]=t.exports.useState(""),[M,b]=t.exports.useState(""),[$,_]=t.exports.useState(""),[T,ce]=t.exports.useState(),[U,we]=t.exports.useState(""),[K,Ne]=t.exports.useState([]),[ie,X]=t.exports.useState([]),[D,J]=t.exports.useState(),[ee,C]=t.exports.useState([]),[Q,G]=t.exports.useState(""),ne=({target:A})=>{E(A.value)},Ae=({target:A})=>{s(A.value)},_e=({target:A})=>{c(A.value)},Se=({target:A})=>{L(A.value)},tt=({target:A})=>{z(A.value)},at=({target:A})=>{N(A.value)},nt=({target:A})=>{I(A.value)},rt=({target:A})=>{b(A.value)},ot=({target:A})=>{_(A.value)},st=async()=>{await ge.clearStore({include:[Re]})},lt=async()=>{ct()&&(i(W()),r==="save"?await mt():(await st(),await dt()))},ct=()=>{let A=!0;return oe.isEmpty(w)&&(te("warning","Atencion","Llene el nombre!"),A=!1),oe.isEmpty(v)?(te("warning","Atencion","Llene el dni!"),A=!1):oe.isNumeric(v)||(te("warning","Atencion","Revise el dni!"),s(""),A=!1),oe.isEmpty(a)?(te("warning","Atencion","Llene el telefono!"),A=!1):oe.isMobilePhone(a)||(te("warning","Atencion","Revise el telefono!"),c(""),A=!1),oe.isEmpty(h)?(te("warning","Atencion","Llene el correo!"),A=!1):oe.isEmail(h)||(te("warning","Atencion","Entre un correo valido!"),L(""),A=!1),oe.isEmpty(B)&&(te("warning","Atencion","Llene el lugar!"),A=!1),ie.length===0&&K.length===0&&(te("warning","Atencion","Seleccione al menos una categoria!"),A=!1),A},te=(A,re,me)=>{j[A]({message:re,description:me})},it=()=>{n.push("/dashboard/contacts")},mt=async()=>{let A=await We();const re=String(v),me=String(a);if(A!=="")try{await g({variables:{name:w,dni:re,phone:me,email:h,family:S,place:B,ministerial_area:k,description:M,additional_note:$,categories:ie,images:[A]}}).then(R=>{const{id:pe,name:fe}=R.data.createContact;te("success","Contacto Guardado",`El contacto ${fe} se guardo de forma satisfactoria!`),i(F()),n.push("/dashboard/contacts")})}catch(R){console.log(R.message),i(F()),te("error","Error",`Ocurrio algun error: ${R.message} !`)}else try{await g({variables:{name:w,dni:re,phone:me,email:h,family:S,place:B,ministerial_area:k,description:M,additional_note:$,categories:ie,images:[]}}).then(R=>{const{id:pe,name:fe}=R.data.createContact;te("success","Contacto Guardado",`El contacto ${fe} se guardo de forma satisfactoria!`),i(F()),n.push("/dashboard/contacts")})}catch(R){console.log(R.message),i(F()),te("error","Error",`Ocurrio algun error: ${R.message} !`)}},dt=async()=>{const A=o,re=String(v),me=String(a);try{if(T===void 0)ie.length===0?await m({variables:{id:A,categories:[],images:[]}}).then(R=>{}):await m({variables:{id:A,categories:ee,images:[]}}).then(R=>{}),await l({variables:{id:A,name:w,dni:re,phone:me,email:h,family:S,place:B,ministerial_area:k,description:M,additional_note:$,images:[],categories:ie}}).then(R=>{C([]),G(""),te("success","Contacto Modificado","El contacto se ha modificado de forma satisfactoria!"),i(F()),n.push("/dashboard/contacts")});else{ie.length===0?await m({variables:{id:A,categories:[],images:[]}}).then(fe=>{}):await m({variables:{id:A,categories:ee,images:[]}}).then(fe=>{});const R=Number(Q);await u({variables:{id:R}}).then(fe=>{});let pe=await We();await l({variables:{id:A,name:w,dni:re,phone:me,email:h,family:S,place:B,ministerial_area:k,description:M,additional_note:$,images:[pe],categories:ie}}).then(fe=>{C([]),G(""),te("success","Contacto Modificado","El contacto se ha modificado de forma satisfactoria!"),i(F()),n.push("/dashboard/contacts")})}}catch(R){i(F()),te("error","Error",`Ocurrio algun error: ${R.message} !`)}},ut=A=>new Promise((re,me)=>{const R=new FileReader;R.readAsDataURL(A),R.onload=()=>re(R.result),R.onerror=pe=>me(pe)}),We=async()=>{let A="";try{if(T!==void 0){const re=T;console.log(`este es photo${T}`);const me=await ut(re);await p({variables:{name:me}}).then(R=>{if(R.data.storeImage!==void 0){const{id:pe}=R.data.storeImage;we(pe),A=pe}})}}catch(re){i(F()),console.log(re.message)}return A};return t.exports.useEffect(()=>{o!==void 0?(i(W()),y("update")):y("save")},[]),t.exports.useEffect(async()=>{r==="update"&&f({variables:{id:o}})},[r]),t.exports.useEffect(()=>{if(x!==void 0)try{const{name:A,dni:re,phone:me,email:R,family:pe,place:fe,ministerial_area:gt,description:pt,additional_note:ht,images:qe,categories:Ue}=x.contact;if(E(A),s(re),c(me),L(R),z(pe),N(fe),I(gt),b(pt),_(ht),Ne(Ue),qe.length!==0){const{id:De,name:xt}=qe[0];J({id:De,name:xt}),G(De)}i(F()),C(Ue.map(De=>De.id))}catch(A){console.log(A.message)}},[x]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},d?e.createElement("div",null,e.createElement(le,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},r==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Guardar Contacto"),e.createElement("h1",{className:"  text-lg font-semibold text-blue-700 mx-1 "},`${w}`))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Modificar Contacto"),e.createElement("h1",{className:"  text-lg font-semibold text-blue-700 mx-1 "},`${w}`)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:"my-6"},e.createElement("label",null,"Nombre"),e.createElement(Y,{placeholder:"Nombre",value:w,onChange:ne,style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Carnet de Identidad"),e.createElement(Y,{value:v,onChange:Ae,placeholder:"Dni",style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Tel\xE9fono"),e.createElement(Y,{value:a,style:{width:"350px"},onChange:_e,placeholder:"Tel\xE9fono"}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-3"},e.createElement("div",{className:""},e.createElement("label",null,"Email"),e.createElement(Y,{placeholder:"Email",onChange:Se,value:h,style:{width:"350px"}})),e.createElement("div",null,e.createElement("label",null,"Familia"),e.createElement(je,{value:S,onChange:tt,placeholder:"Familia",style:{width:"350px"},autoSize:!0})),e.createElement("div",null,e.createElement("label",null,"Lugar"),e.createElement(Y,{value:B,onChange:at,placeholder:"Lugar",style:{width:"350px"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-auto"},e.createElement("div",{className:"my-6"},e.createElement("label",null,"Area Ministerial"),e.createElement(Y,{value:k,onChange:nt,placeholder:"Area Ministerial",style:{width:"350px"}})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Descripci\xF3n"),e.createElement(je,{value:M,onChange:rt,placeholder:"Descripci\xF3n",style:{width:"350px"},autoSize:!0})),e.createElement("div",{className:"my-6"},e.createElement("label",null,"Nota Adicional"),e.createElement(je,{value:$,onChange:ot,placeholder:"Nota Adicional",style:{width:"350px"},autoSize:!0}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 mx-4 my-auto"},e.createElement("div",{className:"my-5"},e.createElement("label",null,"Categorias"),e.createElement(oa,{action:r,selectedCategories:K,setCategories:X})),e.createElement("div",{className:"my-8 items-center mx-auto"},e.createElement("div",{className:"flex mx-auto"},e.createElement(ra,{setPhoto:ce,action:r,selectedImage:D})))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:lt,className:"flex w-48 mx-1 px-4 py-2 hover:bg-green-400 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},r==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:it,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 focus:outline-none hover:bg-blue-400 text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},ca=({history:n})=>{const{id:o}=Ce(),[g,{data:m}]=Z(Re),[l,u]=t.exports.useState(""),[p,f]=t.exports.useState(""),[x,i]=t.exports.useState(""),[d,r]=t.exports.useState(""),[y,w]=t.exports.useState(""),[E,v]=t.exports.useState(""),[s,a]=t.exports.useState(""),[c,h]=t.exports.useState(""),[L,S]=t.exports.useState(""),[z,B]=t.exports.useState(""),[N,k]=t.exports.useState([]),I=ae(),{loading:M}=P(_=>_.ui);t.exports.useEffect(()=>{g({variables:{id:o}}),I(W())},[]),t.exports.useEffect(()=>{if(!m)return e.createElement($e,{to:"/dashboard/contacts"});const _=m.contact;if(_!==null){const{name:T,dni:ce,phone:U,email:we,family:K,place:Ne,ministerial_area:ie,description:X,additional_note:D,images:J,categories:ee}=_;u(T),f(ce),i(U),r(we),w(K),v(Ne),a(ie),h(X),S(D);const C=J.length!==0?J[0].name:"";B(C);const Q=ee.length!==0?ee.map(G=>G.name):[];k(Q),I(F())}},[m]);const b=()=>{n.push("/dashboard/contacts")},$=(_,T,ce)=>{j[_]({message:T,description:ce})};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},M?e.createElement("div",{className:"flex content-center"},e.createElement(le,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-3xl mx-3 "},"Tarjeta de Contacto"),e.createElement("h1",{className:"  text-xl font-semibold text-blue-700 mx-1 "},`${l}`))),e.createElement("hr",null),e.createElement("div",null,z!==""&&e.createElement("div",{className:""},e.createElement("img",{className:"animate__animated animate__fadeIn w-40 h-40 rounded-full my-6  mx-auto content-center",alt:"Avatar",src:z}),e.createElement("hr",null))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center flex"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto my-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"}))),e.createElement("p",{className:"text-xl font-semibold text-blue-700 text-center"},p))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center flex "},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"}))),e.createElement("p",{className:"text-xl font-semibold text-blue-700 text-center"},x))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center flex "},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"}))),e.createElement("p",{className:"text-xl text-center font-semibold text-blue-700"},d)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Familia "),e.createElement("p",{className:"text-sm text-center font-semibold"},y))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Lugar "),e.createElement("p",{className:"text-sm text-center font-semibold"},E))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Area Ministerial "),e.createElement("p",{className:"text-sm text-center font-semibold"},s)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-8 mx-4"},e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Nota Adicional"),e.createElement("p",{className:"text-sm text-center font-semibold"},L))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-5 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Descripci\xF3n"),e.createElement("p",{className:"text-sm text-center font-semibold"},c))),e.createElement("div",{className:" my-auto"},e.createElement("blockquote",{className:"my-12 mx-5 px-5 py-5"},e.createElement("h1",{className:"text-2xl text-center"},"Categor\xEDas"),e.createElement("div",{className:"text-md font-semibold text-center"},N.map((_,T)=>e.createElement("p",{key:T,className:"text-blue-700 inline-block mx-2"},`#${_}`)))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:()=>{$("success","Atencion","Esta funcionalidad esta aun en desarrollo!")},className:" flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})),e.createElement("p",{className:"mx-1"},"Exportar")),e.createElement("button",{onClick:b,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border text-white border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 hover:bg-blue-400  focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")))))))},ia=O`
  mutation updateCategory($id: ID!, $name: String!) {
    updateCategory(id: $id, name: $name) {
      name
    }
  }
`,ma=O`
  mutation deleteCategory($id: ID!) {
    deleteCategory(id: $id) {
      name
    }
  }
`,da=O`
  mutation createCategory($name: String!) {
    createCategory(name: $name) {
      id
    }
  }
`,ua=O`
  mutation updateAgency($id: ID!, $name: String!) {
    updateAgency(id: $id, name: $name) {
      name
    }
  }
`,ga=O`
  mutation deleteAgency($id: ID!) {
    deleteAgency(id: $id) {
      name
    }
  }
`,pa=O`
  mutation createAgency($name: String!) {
    createAgency(name: $name) {
      id
    }
  }
`,ha=({categoriesList:n,setSelectedId:o})=>{let g="";const l=[V({title:"Categor\xEDa",dataIndex:"name"},(E=>({filterDropdown:({setSelectedKeys:v,selectedKeys:s,confirm:a,clearFilters:c})=>e.createElement("div",{style:{padding:8}},e.createElement(Y,{ref:h=>{g=h},placeholder:"Busqueda",value:s[0],onChange:h=>v(h.target.value?[h.target.value]:[]),onPressEnter:()=>y(s,a,E),style:{marginBottom:8,display:"block"}}),e.createElement(Me,null,e.createElement(se,{type:"primary",onClick:()=>y(s,a,E),icon:e.createElement(he,null),size:"small",style:{width:90}},"Buscar"))),filterIcon:v=>e.createElement(he,{style:{color:v?"#1890ff":void 0}}),onFilter:(v,s)=>s[E]?s[E].toString().toLowerCase().includes(v.toLowerCase()):"",onFilterDropdownVisibleChange:v=>{v&&setTimeout(()=>g.select(),100)},render:v=>v}))("name"))],[u,p]=t.exports.useState([]),f={onChange:(E,v)=>{if(v.length!==0){const s=v[0],{key:a}=s;o(a)}else o("")},getCheckboxProps:E=>({disabled:E.name==="Disabled User",name:E.name})},x="checkbox",i={searchText:"",searchedColumn:""},[d,r]=t.exports.useState(i),y=(E,v,s)=>{v(),r({searchText:E[0],searchedColumn:s})};function w(E,v,s,a){}return t.exports.useEffect(()=>(n!==void 0&&p(n),()=>{p([])}),[n]),e.createElement("div",null,e.createElement(Le,{rowSelection:V({type:x},f),columns:l,dataSource:u,onChange:w}))},xa=({action:n,show:o,setShowModal:g,setCategoryName:m,category:l,saveCategory:u,modifyCategory:p})=>{const[f,x]=t.exports.useState(!1),[i,d]=t.exports.useState(""),[r,y]=t.exports.useState(""),w=()=>{x(!0)},E=()=>{x(!1),g(!1),n==="save"&&(i!==""?(u(i),d("")):v("warning","Atencion","Llene la categoria!!")),n==="update"&&(i!==""?(p(i),d("")):v("warning","Atencion","Llene la categoria!!"))},v=(c,h,L)=>{j[c]({message:h,description:L})},s=()=>{d(""),m(""),x(!1),g(!1)},a=({target:c})=>{d(c.value),m(i)};return t.exports.useEffect(()=>{n!==void 0&&(n==="save"?y("Agregar Categoria"):(y("Modificar Categoria"),d(l)))},[n]),t.exports.useEffect(()=>{o!==void 0&&(o?(n==="update"&&(y("Modificar Categoria"),d(l)),w()):x(!1))},[o]),e.createElement(e.Fragment,null,e.createElement(ze,{title:r,visible:f,onOk:E,onCancel:s,footer:[e.createElement(se,{key:"submit",type:"primary",onClick:E,style:{borderRadius:"100px"}},n==="save"?"Agregar":"Modificar"),e.createElement(se,{key:"back",type:"danger",onClick:s,style:{borderRadius:"100px"}},"Cancelar")]},e.createElement(Y,{placeholder:"Categoria",value:i,onChange:a,onPressEnter:E})))},fa=({history:n})=>{const[o,g]=t.exports.useState([]),[m,l]=t.exports.useState(""),[u,p]=t.exports.useState(""),[f,x]=t.exports.useState(""),[i,d]=t.exports.useState(!1),r=ae(),{loading:y}=P(N=>N.ui),{data:w}=ve(xe),[E]=H(ia),[v]=H(ma),[s]=H(da),a=async()=>{await ge.refetchQueries({include:[xe]}),r(F())},c=(N,k,I)=>{j[N]({message:k,description:I})},h=N=>{g([]),N.forEach(k=>{const I={key:k.id,name:k.name};g(M=>[...M,I])})},L=async N=>{if(N!=="")try{await s({variables:{name:N}}).then(k=>{a(),c("success","Categoria agregada",`La categoria ${N} fue agregada satisfactoriamente`)})}catch(k){console.log(k.message)}},S=async N=>{if(m!==""){if(N!=="")try{await E({variables:{id:m,name:N}}).then(k=>{a(),c("success","Categoria modificada",`La categoria ${N} fue modificada satisfactoriamente`)})}catch(k){console.log(k.message)}}else c("success","Atencion!","Selecione una Categoria!!!")},z=async()=>{j.destroy(),m!==""?(r(W()),await v({variables:{id:m}}).then(N=>{a(),c("success","Categoria eliminada","La categoria fue eliminada satisfactoriamente")})):c("warning","Atencion!!","Seleccione una categoria!!")},B=()=>{if(m!==""){const N=`open${Date.now()}`,k=e.createElement(se,{type:"danger",onClick:z,style:{borderRadius:"100px"}},"Confirmar");j.open({message:"Atencion!",description:"Esta seguro que desea eliminar la categoria?",btn:k,key:N})}else c("warning","Atencion!","Debe seleccionar al menos una categoria!")};return t.exports.useEffect(()=>{r(W()),a()},[]),t.exports.useEffect(()=>{if(w!==void 0){const{categories:N}=w;h(N)}},[w]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-xl dark:bg-gray-800"},y===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-2"},e.createElement("p",{className:"mx-2 "},"Lista de categorias"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:" my-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"}))),e.createElement("hr",{className:"w-1/4"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400  focus:outline-none text-white",type:"button",onClick:()=>{d(!0),x("save")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:()=>{if(m!==""){if(o.length!==0){const N=o.filter(k=>k.key===m);if(N.length!==0){const{name:k}=N[0];p(k),x("update"),d(!0)}}}else c("warning","Atencion!","Debe seleccionar una categoria!")},className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:()=>{B()},className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-red-500 hover:bg-red-400 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,o.length!==0?e.createElement(ha,{categoriesList:o,setSelectedId:l,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay categorias en la base de datos aun."),e.createElement("p",{onClick:()=>{d(!0),x("save")},className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Categoria +")))):e.createElement(le,{className:"my-10"}),e.createElement(xa,{action:f,show:i,setCategoryName:p,category:u,setShowModal:d,saveCategory:L,modifyCategory:S}))},Ea=({agenciesList:n,setSelectedId:o})=>{let g="";const l=[V({title:"Agencia",dataIndex:"name"},(E=>({filterDropdown:({setSelectedKeys:v,selectedKeys:s,confirm:a,clearFilters:c})=>e.createElement("div",{style:{padding:8}},e.createElement(Y,{ref:h=>{g=h},placeholder:"Busqueda",value:s[0],onChange:h=>v(h.target.value?[h.target.value]:[]),onPressEnter:()=>y(s,a,E),style:{marginBottom:8,display:"block"}}),e.createElement(Me,null,e.createElement(se,{type:"primary",onClick:()=>y(s,a,E),icon:e.createElement(he,null),size:"small",style:{width:90}},"Buscar"))),filterIcon:v=>e.createElement(he,{style:{color:v?"#1890ff":void 0}}),onFilter:(v,s)=>s[E]?s[E].toString().toLowerCase().includes(v.toLowerCase()):"",onFilterDropdownVisibleChange:v=>{v&&setTimeout(()=>g.select(),100)},render:v=>v}))("name"))],[u,p]=t.exports.useState([]),f={onChange:(E,v)=>{if(v.length!==0){const s=v[0],{key:a}=s;o(a)}else o("")},getCheckboxProps:E=>({disabled:E.name==="Disabled User",name:E.name})},x="checkbox",i={searchText:"",searchedColumn:""},[d,r]=t.exports.useState(i),y=(E,v,s)=>{v(),r({searchText:E[0],searchedColumn:s})};function w(E,v,s,a){}return t.exports.useEffect(()=>(n!==void 0&&p(n),()=>{p([])}),[n]),e.createElement("div",null,e.createElement(Le,{rowSelection:V({type:x},f),columns:l,dataSource:u,onChange:w}))},va=({action:n,show:o,setShowModal:g,setAgencyName:m,agency:l,saveAgency:u,modifyAgency:p})=>{const[f,x]=t.exports.useState(!1),[i,d]=t.exports.useState(""),[r,y]=t.exports.useState(""),w=()=>{x(!0)},E=()=>{x(!1),g(!1),n==="save"&&(i!==""?(u(i),d("")):v("warning","Atencion","Llene la agencia!!")),n==="update"&&(i!==""?(p(i),d("")):v("warning","Atencion","Llene la agencia!!"))},v=(c,h,L)=>{j[c]({message:h,description:L})},s=()=>{d(""),m(""),x(!1),g(!1)},a=({target:c})=>{d(c.value),m(i)};return t.exports.useEffect(()=>{n!==void 0&&(n==="save"?y("Agregar Agencia"):(y("Modificar Agencia"),d(l)))},[n]),t.exports.useEffect(()=>{o!==void 0&&(o?(n==="update"&&(y("Modificar Agencia"),d(l)),w()):x(!1))},[o]),e.createElement(e.Fragment,null,e.createElement(ze,{style:{borderRadius:"5px"},title:r,visible:f,onOk:E,onCancel:s,footer:[e.createElement(se,{key:"submit",type:"primary",onClick:E,style:{borderRadius:"100px"}},n==="save"?"Agregar":"Modificar"),e.createElement(se,{key:"back",type:"danger",onClick:s,style:{borderRadius:"100px"}},"Cancelar")]},e.createElement(Y,{placeholder:"Agencia",value:i,onChange:a,onPressEnter:E})))},ba=({history:n})=>{const[o,g]=t.exports.useState([]),[m,l]=t.exports.useState(""),[u,p]=t.exports.useState(""),[f,x]=t.exports.useState(""),[i,d]=t.exports.useState(!1),r=ae(),{loading:y}=P(N=>N.ui),{data:w}=ve(Ze),[E]=H(ua),[v]=H(ga),[s]=H(pa),a=async()=>{await ge.refetchQueries({include:[Ze]}),r(F())},c=(N,k,I)=>{j[N]({message:k,description:I})},h=N=>{g([]),N.forEach(k=>{const I={key:k.id,name:k.name};g(M=>[...M,I])})},L=async N=>{if(N!=="")try{await s({variables:{name:N}}).then(k=>{a(),c("success","Agencia agregada",`La Agencia ${N} fue agregada satisfactoriamente`)})}catch(k){console.log(k.message)}},S=async N=>{if(m!==""){if(N!=="")try{await E({variables:{id:m,name:N}}).then(k=>{a(),c("success","Agencia modificada",`La Agencia ${N} fue modificada satisfactoriamente`)})}catch(k){console.log(k.message)}}else c("success","Atencion!","Selecione una Agencia!!!")},z=async()=>{j.destroy(),m!==""?(r(W()),await v({variables:{id:m}}).then(N=>{a(),c("success","Agencia eliminada","La Agencia fue eliminada satisfactoriamente")})):c("warning","Atencion!!","Seleccione una Agencia!!")},B=()=>{if(m!==""){const N=`open${Date.now()}`,k=e.createElement(se,{type:"danger",onClick:z,style:{borderRadius:"100px"}},"Confirmar");j.open({message:"Atencion!",description:"Esta seguro que desea eliminar la Agencia?",btn:k,key:N})}else c("warning","Atencion!","Debe seleccionar al menos una Agencia!")};return t.exports.useEffect(()=>{r(W()),a()},[]),t.exports.useEffect(()=>{if(w!==void 0){const{agencies:N}=w;h(N)}},[w]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-xl dark:bg-gray-800"},y===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-2"},e.createElement("p",{className:"mx-2 "},"Lista de Agencias"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 my-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"}))),e.createElement("hr",{className:"w-1/4"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button",onClick:()=>{d(!0),x("save")}},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:()=>{if(m!==""){if(o.length!==0){const N=o.filter(k=>k.key===m);if(N.length!==0){const{name:k}=N[0];p(k),x("update"),d(!0)}}}else c("warning","Atencion!","Debe seleccionar una Agencia!")},className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:()=>{B()},className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-red-400 bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,o.length!==0?e.createElement(Ea,{agenciesList:o,setSelectedId:l,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay agencias en la base de datos aun."),e.createElement("p",{onClick:()=>{d(!0),x("save")},className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Agencia +")))):e.createElement(le,{className:"my-10"}),e.createElement(va,{action:f,show:i,setAgencyName:p,agency:u,setShowModal:d,saveAgency:L,modifyAgency:S}))},Fe=O`
  query getMinistries {
    relatedMinistries {
      id
      ministry
      purpose
      categories {
        id
        name
      }
      contacts {
        id
        name
      }
    }
  }
`,Ve=O`
  query ministryByID($id: ID!) {
    relatedMinistry(id: $id) {
      id
      ministry
      purpose
      collaboration
      resources
      categories {
        id
        name
      }
      contacts {
        id
        name
      }
    }
  }
`,ya=O`
  mutation createMinistry(
    $ministry: String
    $purpose: String
    $collaboration: String
    $resources: String
    $categories: [ID]
    $contacts: [ID]
  ) {
    createRelatedMinistry(
      input: {
        ministry: $ministry
        purpose: $purpose
        collaboration: $collaboration
        resources: $resources
        categories: { connect: $categories }
        contacts: { connect: $contacts }
      }
    ) {
      id
      ministry
    }
  }
`,wa=O`
  mutation deleteRelatedMinistry($id: ID!) {
    deleteRelatedMinistry(id: $id) {
      ministry
    }
  }
`,Na=O`
  mutation disconnectForeignKeys($id: ID!, $categories: [ID], $contacts: [ID]) {
    updateRelatedMinistry(
      input: {
        id: $id
        categories: { disconnect: $categories }
        contacts: { disconnect: $contacts }
      }
    ) {
      id
    }
  }
`,ka=O`
  mutation updateRelatedMinistry(
    $id: ID!
    $ministry: String
    $purpose: String
    $collaboration: String
    $resources: String
    $categories: [ID]
    $contacts: [ID]
  ) {
    updateRelatedMinistry(
      input: {
        id: $id
        ministry: $ministry
        purpose: $purpose
        collaboration: $collaboration
        resources: $resources
        categories: { connect: $categories }
        contacts: { connect: $contacts }
      }
    ) {
      id
    }
  }
`,Ca=({ministryList:n,setSelectedId:o,categoryFilter:g,contactFilter:m})=>{let l="";const u=s=>({filterDropdown:({setSelectedKeys:a,selectedKeys:c,confirm:h,clearFilters:L})=>e.createElement("div",{style:{padding:8}},e.createElement(Y,{ref:S=>{l=S},placeholder:"Busqueda",value:c[0],onChange:S=>a(S.target.value?[S.target.value]:[]),onPressEnter:()=>E(c,h,s),style:{marginBottom:8,display:"block"}}),e.createElement(Me,null,e.createElement(se,{type:"primary",onClick:()=>E(c,h,s),icon:e.createElement(he,null),size:"small",style:{width:90}},"Buscar"))),filterIcon:a=>e.createElement(he,{style:{color:a?"#1890ff":void 0}}),onFilter:(a,c)=>c[s]?c[s].toString().toLowerCase().includes(a.toLowerCase()):"",onFilterDropdownVisibleChange:a=>{a&&setTimeout(()=>l.select(),100)},render:a=>a}),p=[V({title:"Ministerio",dataIndex:"ministry"},u("ministry")),V({title:"Prop\xF3sito",dataIndex:"purpose"},u("purpose")),{title:"Contactos",dataIndex:"contacts",filters:m,onFilter:(s,a)=>a.contacts.includes(s),width:"25%",filterSearch:!0,render:s=>e.createElement(e.Fragment,null,s!==void 0&&s.length!==0&&s.map(a=>{let c="green";return e.createElement(Ie,{color:c,key:a},a.toUpperCase())}))},{title:"Categor\xEDas",dataIndex:"categories",filters:g,onFilter:(s,a)=>a.categories.includes(s),width:"25%",filterSearch:!0,render:s=>e.createElement(e.Fragment,null,s!==void 0&&s.length!==0&&s.map(a=>{let c="geekblue";return e.createElement(Ie,{color:c,key:a},a.toUpperCase())}))}],[f,x]=t.exports.useState([]),i={onChange:(s,a)=>{if(a.length!==0){const c=a[0],{key:h}=c;o(h)}},getCheckboxProps:s=>({disabled:s.name==="Disabled User",name:s.name})},d="checkbox",r={searchText:"",searchedColumn:""},[y,w]=t.exports.useState(r),E=(s,a,c)=>{a(),w({searchText:s[0],searchedColumn:c})};function v(s,a,c,h){}return t.exports.useEffect(()=>(n!==void 0&&x(n),()=>{x([])}),[n]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Le,{rowSelection:V({type:d},i),columns:p,dataSource:f,onChange:v}))},Sa=({history:n})=>{const{data:o}=ve(Fe),[g]=H(wa),[m,{data:l}]=Z(xe),[u,{data:p}]=Z(ye),[f,x]=t.exports.useState([]),[i,d]=t.exports.useState([]),[r,y]=t.exports.useState(""),[w,E]=t.exports.useState([]),[v,s]=t.exports.useState([]),a=ae(),{loading:c}=P(b=>b.ui),h=b=>{x([]),b!==void 0&&b.length!==0&&b.forEach($=>{const{categories:_}=$,{contacts:T}=$,ce={key:$.id,ministry:$.ministry,purpose:$.purpose,contacts:T.length!==0?T.map(U=>U.name):"",categories:_.length!==0?_.map(U=>U.name):""};x(U=>[...U,ce])})},L=async()=>{if(a(W()),j.destroy(),r!=="")try{await g({variables:{id:r}}).then(b=>{M("success","Informacion","Contacto eliminado satisfactoriamente!"),S()})}catch(b){console.log(b.name),M("error","Error!",`Ocurrio un error: ${b}`),a(F())}else M("warning","Atencion!","Debe seleccionar al menos un ministerio afin!")},S=()=>{y(""),x([]),d([]),N()},z=()=>{if(r!==""){const b=`open${Date.now()}`,$=e.createElement(se,{type:"danger",onClick:L,style:{borderRadius:"100px"}},"Confirmar");j.open({message:"Atencion!",description:"Esta seguro que desea eliminar el ministerio afin?",btn:$,key:b})}else M("warning","Atencion!","Debe seleccionar al menos un ministerio afin!")},B=()=>{n.push("/dashboard/ministries/form")},N=async()=>{await ge.refetchQueries({include:[Fe]}),a(F())},k=()=>{const b=r;b!==""?n.replace(`/dashboard/ministries/view/${b}`):M("warning","Atencion!","Debe seleccionar al menos un ministerio afin!")},I=()=>{const b=r;b!==""?n.replace(`/dashboard/ministries/form/${b}`):M("warning","Atencion!","Debe seleccionar al menos un ministerio afin!")},M=(b,$,_)=>{j[b]({message:$,description:_})};return t.exports.useEffect(()=>{if(o!==void 0){const{relatedMinistries:b}=o;h(b)}},[o]),t.exports.useEffect(()=>{if(l!==void 0){const{categories:b}=l;let $=[];b!==void 0&&b.length!==0&&(b.forEach(_=>{const T={text:_.name,value:_.name};$.push(T)}),E($))}},[l]),t.exports.useEffect(()=>{if(p!==void 0){const{contacts:b}=p;if(b!==void 0&&b.length!==0){let $=[];b.forEach(_=>{const T={text:_.name,value:_.name};$.push(T)}),s($)}}},[p]),t.exports.useEffect(()=>{f.length!==0&&d(f)},[f]),t.exports.useEffect(()=>{a(W()),m(),u(),N()},[]),e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},c===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1"},e.createElement("p",{className:"mx-2 "},"Lista de Ministerios Afines"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"my-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}))),e.createElement("hr",{className:"w-1/3"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:B,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:I,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:k,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-indigo-400 bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:z,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-red-400 bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,i.length!==0?e.createElement(Ca,{ministryList:i,setSelectedId:y,categoryFilter:w,contactFilter:v,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay ministerios en la base de datos aun."),e.createElement("p",{onClick:B,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Ministerio +")))):e.createElement(le,{className:"my-10"}))},La=({setCategories:n,selectedCategories:o,action:g})=>{const[m,{data:l}]=Z(xe);let u=l!==void 0?l.categories:[];const[p,f]=t.exports.useState([]),x=r=>{f(r)},i=u.filter(r=>!p.includes(r)),d=r=>{let y=[];return r.forEach(w=>{u.forEach(E=>{E.name===w&&y.push(E.id)})}),y};return t.exports.useEffect(()=>{const r=d(p);n(r)},[p]),t.exports.useEffect(()=>{m()},[]),t.exports.useEffect(()=>{const r=o.map(y=>y.name);f(r)},[o]),t.exports.useEffect(()=>{l!==void 0&&(u=l.categories)},[l]),e.createElement("div",null,e.createElement(de,{mode:"multiple",placeholder:"Seleccione la Categoria",value:p,onChange:x,style:{width:"350px"}},i.map(r=>e.createElement(de.Option,{key:r.id,value:r.name},r.name))))},Ma=({setContacts:n,selectedContacts:o,action:g})=>{const[m,{data:l}]=Z(ye);let u=l!==void 0?l.contacts:[];const[p,f]=t.exports.useState([]),x=r=>{f(r)},i=u.filter(r=>!p.includes(r)),d=r=>{let y=[];return r.forEach(w=>{u.forEach(E=>{E.name===w&&y.push(E.id)})}),y};return t.exports.useEffect(()=>{const r=d(p);n(r)},[p]),t.exports.useEffect(()=>{m()},[]),t.exports.useEffect(()=>{const r=o.map(y=>y.name);f(r)},[o]),t.exports.useEffect(()=>{l!==void 0&&(u=l.contacts)},[l]),e.createElement("div",null,e.createElement(de,{mode:"multiple",placeholder:"Seleccione los contactos",value:p,onChange:x,style:{width:"350px"}},i.map(r=>e.createElement(de.Option,{key:r.id,value:r.name},r.name))))},{TextArea:Pe}=Y,Xe=({history:n})=>{const{id:o}=Ce(),[g]=H(ya),[m]=H(Na),[l]=H(ka),[u,{data:p}]=Z(Ve),f=ae(),{loading:x}=P(C=>C.ui),[i,d]=t.exports.useState(""),[r,y]=t.exports.useState(""),[w,E]=t.exports.useState(""),[v,s]=t.exports.useState(""),[a,c]=t.exports.useState(""),[h,L]=t.exports.useState([]),[S,z]=t.exports.useState([]),[B,N]=t.exports.useState([]),[k,I]=t.exports.useState([]),[M,b]=t.exports.useState([]),[$,_]=t.exports.useState([]),T=({target:C})=>{y(C.value)},ce=({target:C})=>{E(C.value)},U=({target:C})=>{s(C.value)},we=({target:C})=>{c(C.value)},K=async()=>{ie()&&(f(W()),i==="save"?await J():(await Ne(),await ee()))},Ne=async()=>{await ge.clearStore({include:[Ve]})},ie=()=>{let C=!0;return oe.isEmpty(r)&&(X("warning","Atencion","Llene el ministerio!"),C=!1),oe.isEmpty(w)&&(X("warning","Atencion","Llene el proposito!"),C=!1),oe.isEmpty(v)&&(X("warning","Atencion","Llene la colaboracion!"),C=!1),oe.isEmpty(a)&&(X("warning","Atencion","Llene los recursos!"),C=!1),S.length===0&&h.length===0&&(X("warning","Atencion","Llene al menos una categoria!"),C=!1),k.length===0&&B.length===0&&(X("warning","Atencion","Llene al menos un contacto!"),C=!1),C},X=(C,Q,G)=>{j[C]({message:Q,description:G})},D=()=>{n.push("/dashboard/ministries")},J=async()=>{try{await g({variables:{ministry:r,purpose:w,collaboration:v,resources:a,categories:S,contacts:k}}).then(C=>{if(C.data.createRelatedMinistry!==void 0&&C.data.createRelatedMinistry!==null){const{ministry:Q}=C.data.createRelatedMinistry;X("success","Ministerio Guardado",`El ministerio ${Q} se guardo de forma satisfactoria!`),f(F()),n.push("/dashboard/ministries")}})}catch(C){f(F()),console.log(C.message),X("error","Error",`Ocurrio algun error: ${C.message} !`)}},ee=async()=>{const C=o,Q=S,G=k;if(C!==void 0)try{Q.length===0&&G.length===0?await m({variables:{id:C,categories:[],contacts:[]}}).then(ne=>{console.log(ne)}):Q.length!==0&&G.length===0?await m({variables:{id:C,categories:M,contacts:[]}}).then(ne=>{console.log(ne)}):Q.length===0&&G.length!==0?await m({variables:{id:C,categories:[],contacts:$}}).then(ne=>{console.log(ne)}):await m({variables:{id:C,categories:M,contacts:$}}).then(ne=>{console.log(ne)}),await l({variables:{id:C,ministry:r,purpose:w,collaboration:v,resources:a,categories:Q,contacts:G}}).then(ne=>{b([]),_([]),X("success","Ministerio Modificado","El ministerio se ha modificado de forma satisfactoria!"),f(F()),n.push("/dashboard/ministries")})}catch(ne){console.table(ne),f(F()),X("error","Error",`Ocurrio algun error: ${ne.message} !`)}};return t.exports.useEffect(()=>{o!==void 0?(f(W()),d("update")):d("save")},[]),t.exports.useEffect(async()=>{i==="update"&&u({variables:{id:o}})},[i]),t.exports.useEffect(()=>{if(p!==void 0){console.log("ministryBy id"),console.log(p.relatedMinistry);try{const{ministry:C,purpose:Q,collaboration:G,resources:ne,categories:Ae,contacts:_e}=p.relatedMinistry;y(C),E(Q),s(G),c(ne),L(Ae),N(_e),b(Ae.map(Se=>Se.id)),_(_e.map(Se=>Se.id)),f(F())}catch(C){f(F()),console.log(C.message)}}},[p]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},x?e.createElement("div",null,e.createElement(le,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},i==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Guardar Ministerio "),e.createElement("h1",{className:"  text-lg font-semibold text-blue-700 mx-1 "},`${r}`))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Modificar Ministerio"),e.createElement("h1",{className:"  text-lg font-semibold text-blue-700 mx-1 "},`${r}`)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("label",null,"Ministerio o Iglesia"),e.createElement(Y,{placeholder:"Ministerio",value:r,onChange:T,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Prop\xF3sito"),e.createElement(Pe,{value:w,onChange:ce,placeholder:"Prop\xF3sito",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Colaboraci\xF3n"),e.createElement(Pe,{value:v,onChange:U,placeholder:"Colaboraci\xF3n",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"my-2"},e.createElement("label",null,"Recursos"),e.createElement(Pe,{value:a,onChange:we,placeholder:"Recursos",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}})),e.createElement("div",{className:"my-2"},e.createElement("label",null,"Categorias"),e.createElement(La,{action:i,selectedCategories:h,setCategories:z})),e.createElement("div",{className:"my-2"},e.createElement("label",null,"Contactos"),e.createElement(Ma,{action:i,selectedContacts:B,setContacts:I}))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:K,className:"flex w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},i==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:D,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},Ia=({history:n})=>{const{id:o}=Ce(),[g,{data:m}]=Z(Ve),[l,u]=t.exports.useState(""),[p,f]=t.exports.useState(""),[x,i]=t.exports.useState(""),[d,r]=t.exports.useState(""),[y,w]=t.exports.useState([]),[E,v]=t.exports.useState([]),s=ae(),{loading:a}=P(L=>L.ui);t.exports.useEffect(()=>{g({variables:{id:o}}),s(W())},[]),t.exports.useEffect(()=>{if(!m)return e.createElement($e,{to:"/dashboard/ministries"});const L=m.relatedMinistry;if(console.log("contacts from server"),console.log(m.relatedMinistry),L!==null){console.table(L);const{ministry:S,purpose:z,collaboration:B,resources:N,categories:k,contacts:I}=L;u(S),f(z),i(B),r(N);const M=k.length!==0?k.map($=>$.name):[];w(M);const b=I.length!==0?I.map($=>$.name):[];v(b),s(F())}},[m]);const c=()=>{n.push("/dashboard/ministries")},h=(L,S,z)=>{j[L]({message:S,description:z})};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},a?e.createElement("div",{className:"flex content-center"},e.createElement(le,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-3xl mx-3 "},"Ministerio Af\xEDn"),e.createElement("h1",{className:"  text-xl font-semibold text-blue-700 mx-1 "},`${l}`))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Ministerio o Iglesia"),e.createElement("p",{className:"text-lg font-semibold text-blue-700 text-center"},l)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Prop\xF3sito "),e.createElement("p",{className:"text-md font-semibold  text-center"},p)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Colaboraci\xF3n"),e.createElement("p",{className:"text-md text-center font-semibold "},x))))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Recursos"),e.createElement("p",{className:"text-md font-semibold text-center"},d)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Categor\xEDas "),e.createElement("div",{className:"text-md font-semibold text-center"},y.map((L,S)=>e.createElement("p",{key:S,className:"text-blue-700 inline-block mx-2"},`#${L}`)))))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"text-xl text-center"},"Contactos"),e.createElement("div",{className:"text-md font-semibold text-center"},E.map((L,S)=>e.createElement("p",{key:S,className:"text-blue-700 inline-block mx-2"},`${L}`))))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:()=>{h("success","Atencion","Esta funcionalidad esta aun en desarrollo!")},className:" flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})),e.createElement("p",{className:"mx-1"},"Exportar")),e.createElement("button",{onClick:c,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")))))))};const $a=()=>{const n={height:"350px",color:"#fff",lineHeight:"160px",textAlign:"center",background:"#364d79"};return e.createElement(e.Fragment,null,e.createElement(_t,{autoplay:!0},e.createElement("div",null,e.createElement("img",{src:`${ke}/assets/images/slider/dario.jpg`,className:"w-full",style:n})),e.createElement("div",null,e.createElement("img",{src:`${ke}/assets/images/slider/tim.jpg`,className:"w-full",style:n})),e.createElement("div",null,e.createElement("img",{src:`${ke}/assets/images/slider/planta.jpg`,className:"w-full",style:n})),e.createElement("div",null,e.createElement("img",{src:`${ke}/assets/images/slider/plantas.jpg`,className:"w-full",style:n}))))},Be=O`
  query getSponsors {
    sponsors {
      id
      name
      contacts {
        id
        name
      }
      categories {
        id
        name
      }
    }
  }
`,He=O`
  query sponsorByID($id: ID!) {
    sponsor(id: $id) {
      id
      name
      commitment
      communication
      contacts {
        id
        name
      }
      categories {
        id
        name
      }
      offerings {
        id
        year
        month
        amount
      }
    }
  }
`,Aa=()=>{const[n,o]=t.exports.useState("0"),[g,m]=t.exports.useState("0"),[l,u]=t.exports.useState("0"),{data:p}=ve(ye),{data:f}=ve(Be),{data:x}=ve(Fe),i=async()=>{await ge.refetchQueries({include:[Be,ye,Fe]})};return t.exports.useEffect(()=>{if(p!=null){const{contacts:d}=p;o(d.length)}if(f!=null){const{sponsors:d}=f;m(d.length)}if(x!=null){const{relatedMinistries:d}=x;u(d.length)}},[p,f,x]),t.exports.useEffect(()=>{i()},[]),e.createElement("div",null,e.createElement("div",{className:"mt-0"},e.createElement("div",{className:"flex flex-col mt-0"},e.createElement("div",{className:"align-middle inline-block min-w-full shadow overflow-hidden rounded-lg sm:rounded-lg "},e.createElement($a,null))),e.createElement("br",null),e.createElement("br",null),e.createElement("div",{className:"flex flex-wrap -mx-6"},e.createElement("div",{className:"w-full px-6 sm:w-1/2 xl:w-1/3"},e.createElement("div",{className:"border-2 border-gray-50 flex items-center px-5 py-6 shadow-lg rounded-lg bg-white"},e.createElement("div",{className:"p-3 rounded-full bg-blue-600 bg-opacity-75"},e.createElement("svg",{className:"h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 23 23",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),e.createElement("div",{className:"mx-5"},e.createElement("h4",{className:"text-2xl font-semibold "},n),e.createElement("p",{className:"font-semibold"},"Contactos")))),e.createElement("div",{className:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 sm:mt-0"},e.createElement("div",{className:"border-2 border-gray-50 flex items-center px-5 py-6 shadow-lg rounded-lg bg-white"},e.createElement("div",{className:"p-3 rounded-full bg-green-600 bg-opacity-75"},e.createElement("svg",{className:"h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 23 23",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),e.createElement("div",{className:"mx-5"},e.createElement("h4",{className:"text-2xl font-semibold "},g),e.createElement("p",{className:"font-semibold"},"Apoyadores")))),e.createElement("div",{className:"w-full mt-6 px-6 sm:w-1/2 xl:w-1/3 xl:mt-0"},e.createElement("div",{className:"border-2 border-gray-50 flex items-center px-5 py-6 shadow-lg rounded-lg bg-white"},e.createElement("div",{className:"p-3 rounded-full bg-indigo-600 bg-opacity-75"},e.createElement("svg",{className:"h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 23 23",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}))),e.createElement("div",{className:"mx-5"},e.createElement("h4",{className:"text-2xl font-semibold "},l),e.createElement("p",{className:"font-semibold"},"Ministerios Afines "))))),e.createElement("br",null),e.createElement("br",null)))},_a=({contact:n})=>(t.exports.useEffect(()=>{console.log(n)},[]),e.createElement("div",{className:"animate__animated animate__fadeIn inline-block mx-3 border-2 border-gray-50 max-w-sm p-6 m-auto my-5 bg-white rounded-md shadow-lg dark:bg-gray-800"},e.createElement("h1",{className:"text-2xl text-center"},n!==void 0&&n.name),e.createElement("div",{className:"text-md font-semibold text-center"},(n!==void 0&&n.categories.length)!==0&&n.categories.map((o,g)=>e.createElement("p",{key:g,className:"text-blue-700 inline-block mx-2"},`${o}`))))),Da=()=>{const n=ae(),{loading:o}=P(h=>h.ui),{data:g}=ve(xe),[m,{data:l}]=Z(Qt);let u=g!==void 0?g.categories:[];const[p,f]=t.exports.useState([]),[x,i]=t.exports.useState([]),[d,r]=t.exports.useState([]),[y,w]=t.exports.useState(!1),E=h=>{console.log(h),f(h)},v=u.filter(h=>!p.includes(h)),s=h=>{let L=[];return h.forEach(S=>{u.forEach(z=>{z.name===S&&L.push(z.id)})}),L},a=()=>{n(W()),r([]),m({variables:{categories:x}})},c=async()=>{await ge.refetchQueries({include:[xe]}),n(F())};return t.exports.useEffect(()=>{if(l!==void 0){console.log(l);const h=l.contactByCategory,L=h.length!==0?h:[];console.log(L),L.length!==0?L.forEach(S=>{const{id:z,name:B,categories:N}=S;let k=[];N.length!==0&&N.forEach(M=>{k.push(`#${M.name}`)});const I={id:z,name:B,categories:k};r(M=>[...M,I])}):w(!0),n(F())}},[l]),t.exports.useEffect(()=>{const h=s(p);i(h),console.log(x),r([]),w(!1)},[p]),t.exports.useEffect(()=>{c()},[]),t.exports.useEffect(()=>{g!==void 0&&(u=g.categories)},[g]),e.createElement("div",{className:" border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},e.createElement("div",{className:"text-center font-semibold text-2xl my-4"},"Busquedas de Contactos por categor\xEDas"),e.createElement("div",{className:" flex content-center my-8"},e.createElement("div",{className:"flex mx-auto"},e.createElement(de,{mode:"multiple",placeholder:"Seleccione las Categorias",value:p,onChange:E,style:{width:"350px",borderRadius:"10px"},dropdownStyle:{borderRadius:"5px"}},v.map(h=>e.createElement(de.Option,{key:h.id,value:h.name},h.name))),e.createElement("button",{onClick:a,className:"flex w-16 mx-auto h-8 px-1 py-1 text-center hover:bg-blue-400 rounded-md border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-blue-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 content-center mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))))),e.createElement("br",null),o?e.createElement(le,{className:"my-5"}):e.createElement("div",{className:"card-columns"},d.length!==0&&d.map(h=>e.createElement(_a,{key:h.id,contact:h})),y===!0?e.createElement("h1",{className:"text-center text-2xl"},"No se encontraron resultados"):d.length!==0&&e.createElement("h1",{className:"text-center text-xl my-7"},`Se encontraron ${d.length} contactos`)),e.createElement("br",null),e.createElement("br",null))},Fa=()=>{const n="{...}";return e.createElement("div",{className:" border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},e.createElement("div",{className:"text-center font-semibold text-2xl my-10"},e.createElement("h1",{className:"text-center text-3xl my-6"},"Seguimientos aun en desarrollo",e.createElement("p",{className:"text-blue-600 animate-pulse text-6xl font-semibold"},n))))},Ba=O`
  mutation createSponsor(
    $name: String
    $commitment: String
    $communication: String
    $contacts: [ID]
    $categories: [ID]
  ) {
    createSponsor(
      input: {
        name: $name
        commitment: $commitment
        communication: $communication
        contacts: { connect: $contacts }
        categories: { connect: $categories }
      }
    ) {
      id
    }
  }
`,za=O`
  mutation deleteSponsor($id: ID!) {
    deleteSponsor(id: $id) {
      id
      name
    }
  }
`,Ta=O`
  mutation disconnectForeignKeys($id: ID!, $categories: [ID], $contacts: [ID]) {
    updateSponsor(
      input: {
        id: $id
        categories: { disconnect: $categories }
        contacts: { disconnect: $contacts }
      }
    ) {
      id
    }
  }
`,Oa=O`
  mutation updateSponsor(
    $id: ID!
    $name: String
    $commitment: String
    $communication: String
    $contacts: [ID]
    $categories: [ID]
  ) {
    updateSponsor(
      input: {
        id: $id
        name: $name
        commitment: $commitment
        communication: $communication
        contacts: { connect: $contacts }
        categories: { connect: $categories }
      }
    ) {
      id
    }
  }
`,Ra=({sponsorList:n,setSelectedId:o,categoryFilter:g,contactFilter:m})=>{let l="";const p=[V({title:"Nombre",dataIndex:"name"},(s=>({filterDropdown:({setSelectedKeys:a,selectedKeys:c,confirm:h,clearFilters:L})=>e.createElement("div",{style:{padding:8}},e.createElement(Y,{ref:S=>{l=S},placeholder:"Busqueda",value:c[0],onChange:S=>a(S.target.value?[S.target.value]:[]),onPressEnter:()=>E(c,h,s),style:{marginBottom:8,display:"block"}}),e.createElement(Me,null,e.createElement(se,{type:"primary",onClick:()=>E(c,h,s),icon:e.createElement(he,null),size:"small",style:{width:90}},"Buscar"))),filterIcon:a=>e.createElement(he,{style:{color:a?"#1890ff":void 0}}),onFilter:(a,c)=>c[s]?c[s].toString().toLowerCase().includes(a.toLowerCase()):"",onFilterDropdownVisibleChange:a=>{a&&setTimeout(()=>l.select(),100)},render:a=>a}))("name")),{title:"Contactos",dataIndex:"contacts",filters:m,onFilter:(s,a)=>a.contacts.includes(s),width:"25%",filterSearch:!0,render:s=>e.createElement(e.Fragment,null,s!==void 0&&s.length!==0&&s.map(a=>{let c="green";return e.createElement(Ie,{color:c,key:a},a.toUpperCase())}))},{title:"Categor\xEDas",dataIndex:"categories",filters:g,onFilter:(s,a)=>a.categories.includes(s),width:"25%",filterSearch:!0,render:s=>e.createElement(e.Fragment,null,s!==void 0&&s.length!==0&&s.map(a=>{let c="geekblue";return e.createElement(Ie,{color:c,key:a},a.toUpperCase())}))}],[f,x]=t.exports.useState([]),i={onChange:(s,a)=>{if(a.length!==0){const c=a[0],{key:h}=c;o(h)}},getCheckboxProps:s=>({disabled:s.name==="Disabled User",name:s.name})},d="checkbox",r={searchText:"",searchedColumn:""},[y,w]=t.exports.useState(r),E=(s,a,c)=>{a(),w({searchText:s[0],searchedColumn:c})};function v(s,a,c,h){}return t.exports.useEffect(()=>(n!==void 0&&x(n),()=>{x([])}),[n]),e.createElement("div",{className:"overflow-hidden"},e.createElement(Le,{rowSelection:V({type:d},i),columns:p,dataSource:f,onChange:v}))},ja=({history:n})=>{const{data:o}=ve(Be),[g]=H(za),[m,{data:l}]=Z(xe),[u,{data:p}]=Z(ye),[f,x]=t.exports.useState([]),[i,d]=t.exports.useState([]),[r,y]=t.exports.useState(""),[w,E]=t.exports.useState([]),[v,s]=t.exports.useState([]),a=ae(),{loading:c}=P(b=>b.ui),h=b=>{x([]),b!==void 0&&b.length!==0&&b.forEach($=>{const{categories:_}=$,{contacts:T}=$,ce={key:$.id,name:$.name,contacts:T.length!==0?T.map(U=>U.name):"",categories:_.length!==0?_.map(U=>U.name):""};x(U=>[...U,ce])})},L=async()=>{if(a(W()),j.destroy(),r!=="")try{await g({variables:{id:r}}).then(b=>{M("success","Informacion","Apoyador eliminado satisfactoriamente!"),S()})}catch(b){console.log(b.name),M("error","Error!",`Ocurrio un error: ${b}`),a(F())}else M("warning","Atencion!","Debe seleccionar al menos un apoyador!")},S=()=>{y(""),x([]),d([]),N()},z=()=>{if(r!==""){const b=`open${Date.now()}`,$=e.createElement(se,{type:"danger",onClick:L,style:{borderRadius:"100px"}},"Confirmar");j.open({message:"Atencion!",description:"Esta seguro que desea eliminar el apoyador?",btn:$,key:b})}else M("warning","Atencion!","Debe seleccionar al menos un apoyador!")},B=()=>{n.push("/dashboard/sponsors/form")},N=async()=>{await ge.refetchQueries({include:[Be]}),a(F())},k=()=>{const b=r;b!==""?n.replace(`/dashboard/sponsors/view/${b}`):M("warning","Atencion!","Debe seleccionar al menos un apoyador!")},I=()=>{const b=r;b!==""?n.replace(`/dashboard/sponsors/form/${b}`):M("warning","Atencion!","Debe seleccionar al menos un apoyador!")},M=(b,$,_)=>{j[b]({message:$,description:_})};return t.exports.useEffect(()=>{if(o!==void 0){const{sponsors:b}=o;h(b)}},[o]),t.exports.useEffect(()=>{if(l!==void 0){const{categories:b}=l;let $=[];b!==void 0&&b.length!==0&&(b.forEach(_=>{const T={text:_.name,value:_.name};$.push(T)}),E($))}},[l]),t.exports.useEffect(()=>{if(p!==void 0){const{contacts:b}=p;if(b!==void 0&&b.length!==0){let $=[];b.forEach(_=>{const T={text:_.name,value:_.name};$.push(T)}),s($)}}},[p]),t.exports.useEffect(()=>{f.length!==0&&d(f)},[f]),t.exports.useEffect(()=>{a(W()),m(),u(),N()},[]),e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},c===!1?e.createElement("div",null,e.createElement("h1",{className:"flex text-2xl my-1"},e.createElement("p",{className:"mx-2 "},"Lista de Apoyadores"),e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 my-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),e.createElement("hr",{className:"w-1/3"}),e.createElement("div",{className:"flex mx-auto my-8"},e.createElement("button",{onClick:B,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent bg-green-500 hover:bg-green-400 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})),e.createElement("span",{className:"mx-1"},"A\xF1adir")),e.createElement("button",{onClick:I,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 focus:outline-none outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})),e.createElement("span",{className:"mx-1"},"Modificar")),e.createElement("button",{onClick:k,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-indigo-400 bg-indigo-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),e.createElement("span",{className:"mx-1"},"Visualizar")),e.createElement("button",{onClick:z,className:"flex mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-red-400 bg-red-500 focus:outline-none text-white"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-2 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})),e.createElement("span",{className:"mx-1"},"Eliminar"))),e.createElement("hr",{className:"my-8"}),e.createElement("div",null,i.length!==0?e.createElement(Ra,{sponsorList:i,setSelectedId:y,categoryFilter:w,contactFilter:v,className:"my-6"}):e.createElement("div",{className:"mx-auto my-6 content-center text-center animate__animated animate__fadeIn"},e.createElement("h1",{className:" text-xl text-center my-4"},"No hay apoyadores en la base de datos aun."),e.createElement("p",{onClick:B,className:"animate-pulse font-semibold text-2xl cursor-pointer text-md text-blue-700 text-center content-center my-4  hover:underline"},"Agregar Apoyador +")))):e.createElement(le,{className:"my-10"}))},Va=()=>{const n="{...}";return e.createElement("div",{className:" border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},e.createElement("div",{className:"text-center font-semibold text-2xl my-10"},e.createElement("h1",{className:"text-center text-3xl my-6"},"Misiones Transculturales aun en desarrollo",e.createElement("p",{className:"text-blue-600 animate-pulse text-6xl font-semibold"},n))))},Pa=({setCategories:n,selectedCategories:o})=>{const[g,{data:m}]=Z(xe);let l=m!==void 0?m.categories:[];const[u,p]=t.exports.useState([]),f=d=>{p(d)},x=l.filter(d=>!u.includes(d)),i=d=>{let r=[];return d.forEach(y=>{l.forEach(w=>{w.name===y&&r.push(w.id)})}),r};return t.exports.useEffect(()=>{const d=i(u);n(d)},[u]),t.exports.useEffect(()=>{g()},[]),t.exports.useEffect(()=>{const d=o.map(r=>r.name);p(d)},[o]),t.exports.useEffect(()=>{m!==void 0&&(l=m.categories)},[m]),e.createElement("div",null,e.createElement(de,{mode:"multiple",placeholder:"Seleccione la Categoria",value:u,onChange:f,style:{width:"350px"}},x.map(d=>e.createElement(de.Option,{key:d.id,value:d.name},d.name))))},Ha=({setContacts:n,selectedContacts:o})=>{const[g,{data:m}]=Z(ye);let l=m!==void 0?m.contacts:[];const[u,p]=t.exports.useState([]),f=d=>{p(d)},x=l.filter(d=>!u.includes(d)),i=d=>{let r=[];return d.forEach(y=>{l.forEach(w=>{w.name===y&&r.push(w.id)})}),r};return t.exports.useEffect(()=>{const d=i(u);n(d)},[u]),t.exports.useEffect(()=>{g()},[]),t.exports.useEffect(()=>{const d=o.map(r=>r.name);p(d)},[o]),t.exports.useEffect(()=>{m!==void 0&&(l=m.contacts)},[m]),e.createElement("div",null,e.createElement(de,{mode:"multiple",placeholder:"Seleccione los contactos",value:u,onChange:f,style:{width:"350px"}},x.map(d=>e.createElement(de.Option,{key:d.id,value:d.name},d.name))))},{TextArea:Je}=Y,et=({history:n})=>{const{id:o}=Ce(),[g]=H(Ba),[m]=H(Ta),[l]=H(Oa),[u,{data:p}]=Z(He),f=ae(),{loading:x}=P(D=>D.ui),[i,d]=t.exports.useState(),[r,y]=t.exports.useState(""),[w,E]=t.exports.useState(""),[v,s]=t.exports.useState(""),[a,c]=t.exports.useState([]),[h,L]=t.exports.useState([]),[S,z]=t.exports.useState([]),[B,N]=t.exports.useState([]),[k,I]=t.exports.useState([]),[M,b]=t.exports.useState([]),$=({target:D})=>{y(D.value)},_=({target:D})=>{E(D.value)},T=({target:D})=>{s(D.value)},ce=async()=>{we()&&(f(W()),i==="save"?await ie():(await U(),await X()))},U=async()=>{await ge.clearStore({include:[He]})},we=()=>{let D=!0;return oe.isEmpty(r)&&(K("warning","Atencion","Llene el Nombre!"),D=!1),oe.isEmpty(w)&&(K("warning","Atencion","Llene el Compromiso!"),D=!1),oe.isEmpty(v)&&(K("warning","Atencion","Llene la Comunicacion!"),D=!1),h.length===0&&a.length===0&&(K("warning","Atencion","Llene al menos una categoria!"),D=!1),B.length===0&&S.length===0&&(K("warning","Atencion","Llene al menos un contacto!"),D=!1),D},K=(D,J,ee)=>{j[D]({message:J,description:ee})},Ne=()=>{n.push("/dashboard/sponsors")},ie=async()=>{try{await g({variables:{name:r,commitment:w,communication:v,categories:h,contacts:B}}).then(D=>{if(D.data.createSponsor!==void 0&&D.data.createSponsor!==null){const{name:J}=D.data.createSponsor;K("success","Apoyador Guardado","El apoyador se guardo de forma satisfactoria!"),f(F()),n.push("/dashboard/sponsors")}})}catch(D){f(F()),console.log(D.message),K("error","Error",`Ocurrio algun error: ${D.message} !`)}},X=async()=>{const D=o,J=h,ee=B;if(D!==void 0)try{J.length===0&&ee.length===0?await m({variables:{id:D,categories:[],contacts:[]}}).then(C=>{console.log(C)}):J.length!==0&&ee.length===0?await m({variables:{id:D,categories:k,contacts:[]}}).then(C=>{console.log(C)}):J.length===0&&ee.length!==0?await m({variables:{id:D,categories:[],contacts:M}}).then(C=>{console.log(C)}):await m({variables:{id:D,categories:k,contacts:M}}).then(C=>{console.log(C)}),await l({variables:{id:D,name:r,commitment:w,communication:v,categories:J,contacts:ee}}).then(C=>{I([]),b([]),K("success","Apoyador Modificado","El apoyador se ha modificado de forma satisfactoria!"),f(F()),n.push("/dashboard/sponsors")})}catch(C){console.table(C),f(F()),K("error","Error",`Ocurrio algun error: ${C.message} !`)}};return t.exports.useEffect(()=>{o!==void 0?(f(W()),d("update")):d("save")},[]),t.exports.useEffect(async()=>{i==="update"&&u({variables:{id:o}})},[i]),t.exports.useEffect(()=>{if(p!==void 0){console.log(p.sponsor);try{const{name:D,commitment:J,communication:ee,categories:C,contacts:Q}=p.sponsor;y(D),E(J),s(ee),c(C),z(Q),I(C.map(G=>G.id)),b(Q.map(G=>G.id)),f(F())}catch(D){f(F()),console.log(D.message)}}},[p]),e.createElement("div",{className:"border-2 border-gray-50 overflow-hidden animate__animated animate__fadeIn container px-8 py-4 mx-auto bg-white rounded-lg shadow-lg dark:bg-gray-800"},x?e.createElement("div",null,e.createElement(le,null)):e.createElement("div",null,e.createElement("div",{className:"text-center my-6 "},i==="save"?e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Guardar Apoyador "),e.createElement("h1",{className:"  text-lg font-semibold text-blue-700 mx-1 "},r!==void 0&&`${r}`))):e.createElement("div",{className:"content-center"},e.createElement("div",{className:"inline-flex items-center"},e.createElement("h1",{className:"text-2xl mx-3 "},"Modificar Apoyador"),e.createElement("h1",{className:"  text-lg font-semibold text-blue-700 mx-1 "},r!==void 0&&`${r}`)))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4 "},e.createElement("div",{className:"my-5"},e.createElement("label",null,"Nombre"),e.createElement(Y,{placeholder:"Nombre del Apoyador",value:r,onChange:$,style:{width:"350px"}})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Compromiso"),e.createElement(Je,{value:w,onChange:_,placeholder:"Compromiso",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}})),e.createElement("div",{className:"my-5"},e.createElement("label",null,"Comunicaci\xF3n"),e.createElement(Je,{value:v,onChange:T,placeholder:"Comunicaci\xF3n",style:{width:"350px"},autoSize:!0}),e.createElement("div",{style:{margin:"24px 0"}}))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4 "},e.createElement("div",{className:"my-2"},e.createElement("label",null,"Categorias"),e.createElement(Pa,{action:i,selectedCategories:a,setCategories:L})),e.createElement("div",{className:"my-2"},e.createElement("label",null,"Contactos"),e.createElement(Ha,{action:i,selectedContacts:S,setContacts:N}))),e.createElement("hr",{className:"my-10"}),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto"},e.createElement("button",{onClick:ce,className:"flex w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})),e.createElement("span",{className:"mx-1"},i==="save"?"Guardar":"Modificar")),e.createElement("button",{onClick:Ne,className:"flex  w-48 mx-1 px-4 py-2  rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar"))))))},Wa=({history:n})=>{const{id:o}=Ce(),[g,{data:m}]=Z(He),[l,u]=t.exports.useState(""),[p,f]=t.exports.useState(""),[x,i]=t.exports.useState(""),[d,r]=t.exports.useState([]),[y,w]=t.exports.useState([]),E=ae(),{loading:v}=P(c=>c.ui);t.exports.useEffect(()=>{g({variables:{id:o}}),E(W())},[]),t.exports.useEffect(()=>{if(!m)return e.createElement($e,{to:"/dashboard/sponsors"});const c=m.sponsor;if(console.log("contacts from server"),console.log(m.sponsor),c!==null){console.table(c);const{name:h,commitment:L,communication:S,categories:z,contacts:B}=c;u(h),f(L),i(S);const N=z.length!==0?z.map(I=>I.name):[];r(N);const k=B.length!==0?B.map(I=>I.name):[];w(k),E(F())}},[m]);const s=()=>{n.push("/dashboard/sponsors")},a=(c,h,L)=>{j[c]({message:h,description:L})};return e.createElement("div",null,e.createElement("div",{className:"border-2 border-gray-50 container px-8 py-4 mx-auto bg-white rounded-xl shadow-lg dark:bg-gray-800"},v?e.createElement("div",{className:"flex content-center"},e.createElement(le,{className:"my-8"})):e.createElement("div",{className:"animate__animated animate__fadeIn"},e.createElement("div",{className:"content-center text-center my-6 "},e.createElement("div",{className:"inline-flex items-center "},e.createElement("h1",{className:"text-3xl mx-3 "},"Apoyador"),e.createElement("h1",{className:"  text-xl font-semibold text-blue-700 mx-1 "},`${l}`))),e.createElement("hr",null),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-4 mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5 "},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"mx-auto text-xl text-center"},"Nombre"),e.createElement("p",{className:"text-lg font-semibold text-blue-700 text-center"},l)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Compromiso "),e.createElement("p",{className:"text-md font-semibold  text-center"},p)))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Comunicaci\xF3n"),e.createElement("p",{className:"text-md text-center font-semibold "},x))))),e.createElement("div",{className:"grid grid-flow-col grid-cols-3 gap-4 my-auto mx-4"},e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center  "},e.createElement("h1",{className:"text-xl text-center"},"Categor\xEDas "),e.createElement("div",{className:"text-md font-semibold text-center"},d.map((c,h)=>e.createElement("p",{key:h,className:"text-blue-700 inline-block mx-2"},`#${c}`)))))),e.createElement("div",{className:""},e.createElement("blockquote",{className:"my-3 mx-5 px-5 py-5"},e.createElement("div",{className:"content-center "},e.createElement("h1",{className:"text-xl text-center"},"Contactos"),e.createElement("div",{className:"text-md font-semibold text-center"},y.map((c,h)=>e.createElement("p",{key:h,className:"text-blue-700 inline-block mx-2"},`${c}`))))))),e.createElement("hr",null),e.createElement("div",{className:"my-10 flex content-center w-full "},e.createElement("div",{className:"flex mx-auto "},e.createElement("button",{onClick:()=>{a("success","Atencion","Esta funcionalidad esta aun en desarrollo!")},className:" flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-green-400 bg-green-500 focus:outline-none text-white",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})),e.createElement("p",{className:"mx-1"},"Exportar")),e.createElement("button",{onClick:s,className:"flex w-48 h-11 mx-1 px-4 py-2 rounded-full border border-gray-300 font-medium tracking-wide capitalize transition-colors duration-200 transform bg-transparent hover:bg-blue-400 bg-blue-500 text-white focus:outline-none ",type:"button"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-4 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})),e.createElement("span",{className:"mx-1"},"Regresar")))))))},qa=()=>e.createElement(Qe,null,e.createElement(q,{exact:!0,path:"/dashboard/contacts",component:na}),e.createElement(q,{exact:!0,path:"/dashboard/contacts/form",component:Ke}),e.createElement(q,{exact:!0,path:"/dashboard/contacts/form/:id",component:Ke}),e.createElement(q,{exact:!0,path:"/dashboard/contacts/view/:id",component:ca}),e.createElement(q,{exact:!0,path:"/dashboard/categories",component:fa}),e.createElement(q,{exact:!0,path:"/dashboard/agencies",component:ba}),e.createElement(q,{exact:!0,path:"/dashboard/ministries",component:Sa}),e.createElement(q,{exact:!0,path:"/dashboard/ministries/form",component:Xe}),e.createElement(q,{exact:!0,path:"/dashboard/ministries/form/:id",component:Xe}),e.createElement(q,{exact:!0,path:"/dashboard/ministries/view/:id",component:Ia}),e.createElement(q,{exact:!0,path:"/dashboard/sponsors",component:ja}),e.createElement(q,{exact:!0,path:"/dashboard/sponsors/form",component:et}),e.createElement(q,{exact:!0,path:"/dashboard/sponsors/form/:id",component:et}),e.createElement(q,{exact:!0,path:"/dashboard/sponsors/view/:id",component:Wa}),e.createElement(q,{exact:!0,path:"/dashboard/search",component:Da}),e.createElement(q,{exact:!0,path:"/dashboard/trackings",component:Fa}),e.createElement(q,{exact:!0,path:"/dashboard/missions",component:Va}),e.createElement(q,{exact:!0,path:"/dashboard",component:Aa}),e.createElement($e,{to:"/dashboard"})),Ua=()=>e.createElement(e.Fragment,null,e.createElement("div",{className:"flex h-screen bg-white font-roboto"},e.createElement(Wt,null),e.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},e.createElement(Yt,null),e.createElement("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-white"},e.createElement("div",{className:"container mx-auto px-6 py-8"},e.createElement(qa,null)))))),Ga=(n={})=>{const[o,g]=t.exports.useState(n);return[o,({target:u})=>{g(be(V({},o),{[u.name]:u.value}))},(u=n)=>{g(u)}]},Ya=O`
  mutation LogIn($username: String!, $password: String!) {
    login(input: { username: $username, password: $password }) {
      access_token
      user {
        name
        email
        roles {
          name
        }
        images {
          name
        }
      }
    }
  }
`,Qa=Ya,Za=({history:n})=>{const[o]=H(Qa),g=ae(),{loading:m}=P(r=>r.ui),[l,u]=Ga({username:"",password:""}),{username:p,password:f}=l,x=(r,y,w)=>{j[r]({message:y,description:w})},i=r=>{const y=document.getElementById("image");r?y.classList.add("animate-pulse"):y.classList.remove("animate-pulse")},d=async r=>{if(r.preventDefault(),p!==""&&f!==""){g(W()),i(!0);try{await o({variables:{username:p,password:f}}).then(y=>{if(y.data.login!==void 0){const{access_token:w,user:E}=y.data.login,{name:v,email:s,roles:a,images:c}=E;c!==void 0&&c.length!==0?g(Oe(w,v,s,a[0].name,c[0].name)):g(Oe(w,v,s,a[0].name,"")),localStorage.setItem("_token",w),i(!1)}g(F()),n.push("/dashboard")})}catch(y){y.message==="invalid_grant"&&console.log("No se reconoce usuario y pass!!"),x("error","Error!","No se reconoce usuario o contrase\xF1a!"),g(F()),i(!1)}}else x("warning","Atenci\xF3n!","Llene los campos!")};return e.createElement("div",null,e.createElement("div",{className:" border-2 border-gray-50 w-full max-w-sm p-6 m-auto my-20 bg-white rounded-md shadow-lg dark:bg-gray-800"},e.createElement("img",{id:"image",src:`${ke}assets/images/apoyo_cuba.5fbeaca6.jpg`,className:"w-40 h-40 mx-auto content-center my-auto"}),e.createElement("form",{className:"mt-6"},m===!1?e.createElement("div",null,e.createElement("div",null,e.createElement("label",{htmlFor:"username",className:"block text-sm text-gray-800 dark:text-gray-200"},"Usuario"),e.createElement("input",{type:"text",value:p,name:"username",onChange:u,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring"})),e.createElement("div",{className:"mt-4"},e.createElement("div",{className:"flex items-center justify-between"},e.createElement("label",{htmlFor:"password",className:"block text-sm text-gray-800 dark:text-gray-200"},"Contrase\xF1a")),e.createElement("input",{type:"password",value:f,name:"password",onChange:u,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-500 focus:outline-none focus:ring"})),e.createElement("div",{className:"mt-6"},e.createElement("button",{onClick:d,className:"w-full px-4 py-2 tracking-wide text-white text-lg font-bold transition-colors duration-200 transform bg-blue-600 rounded-full hover:bg-blue-500 focus:outline-none focus:bg-gray-400"},"Login")),e.createElement("div",{className:"flex items-center justify-between mt-4"},e.createElement("span",{className:"w-1/5 border-b dark:border-gray-600 lg:w-1/5"}),e.createElement("p",{href:"#",className:"cursor-pointer text-xs hover:text-blue-700 text-center text-gray-600 uppercase dark:text-gray-400"},"Apoyo Cuba 2021"),e.createElement("span",{className:"w-1/5 border-b dark:border-gray-400 lg:w-1/5"}))):e.createElement(le,null))))},Ka=O`
  query me {
    me {
      id
      name
      email
      roles {
        id
        name
      }
      images {
        id
        name
      }
    }
  }
`,Xa=()=>{const n=ae(),[o,g]=t.exports.useState(""),{token:m}=P(l=>l.auth);return t.exports.useEffect(async()=>{g(m!==void 0)},[m]),t.exports.useEffect(()=>{},[o]),t.exports.useEffect(()=>()=>{g("")},[]),t.exports.useEffect(()=>{if(m!==void 0)try{ge.query({query:Ka}).then(l=>{console.log(l.data.me);const u=m,{name:p,email:f,roles:x,images:i}=l.data.me;n(Oe(u,p,f,x[0].name,i[0].name)),g(!0)})}catch(l){console.log(l.message)}else g(!1)},[]),e.createElement("div",null,e.createElement(Dt,null,o===""?e.createElement("div",{className:"my-64"},e.createElement(le,null)):e.createElement("div",{className:"my-auto "},e.createElement(Qe,null,(o===!1||o===!0)&&e.createElement(q,{exact:!0,path:"/auth/login",component:Za}),o===!0?e.createElement(q,{path:"/dashboard",component:Ua}):e.createElement($e,{to:"/auth/login"})))))},Ja=()=>e.createElement(Ft,{store:Ht},e.createElement(Xa,null));Bt.render(e.createElement(zt,{client:ge},e.createElement(Ja,null),","),document.getElementById("root"));
